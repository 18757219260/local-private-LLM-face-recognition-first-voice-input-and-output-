2025-04-24 16:44:05,048 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-24 16:44:11,388 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main/mian_stream.py:11> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main/mian_stream.py", line 83, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 360, in __wakeup
    self.__step()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main/mian_stream.py", line 27, in main
    question = asr.real_time_recognition()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/ASR/asr.py", line 51, in real_time_recognition
    data = self.stream.read(self.CHUNK, exception_on_overflow=False)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/pyaudio.py", line 608, in read
    return pa.read_stream(self._stream, num_frames, exception_on_overflow)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyboardInterrupt
2025-04-24 16:47:10,185 - INFO - Use pytorch device_name: cuda
2025-04-24 16:47:10,185 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-24 16:47:11,198 - INFO - Loading faiss with AVX512 support.
2025-04-24 16:47:11,209 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-24 16:47:11,212 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-24 16:47:17,590 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-24 16:48:44,551 - INFO - Use pytorch device_name: cuda
2025-04-24 16:48:44,551 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-24 16:48:46,307 - INFO - Loading faiss with AVX512 support.
2025-04-24 16:48:46,328 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-24 16:48:46,331 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-24 16:48:52,971 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-24 16:48:53,015 - INFO - 模型问答耗时: 0.64秒
2025-04-24 16:49:04,108 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-24 16:49:04,495 - INFO - 模型问答耗时: 0.72秒
2025-04-24 16:49:17,884 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-24 16:49:18,440 - INFO - 模型问答耗时: 0.80秒
2025-04-24 16:49:33,472 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-24 16:49:33,554 - INFO - 模型问答耗时: 0.50秒
2025-04-24 16:49:41,795 - INFO - Use pytorch device_name: cuda
2025-04-24 16:49:41,795 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-24 16:49:47,137 - INFO - Loading faiss with AVX512 support.
2025-04-24 16:49:47,148 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-24 16:49:47,151 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-24 16:50:12,653 - INFO - Use pytorch device_name: cuda
2025-04-24 16:50:12,653 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-24 16:50:17,996 - INFO - Loading faiss with AVX512 support.
2025-04-24 16:50:18,006 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-24 16:50:18,009 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-24 16:50:25,022 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-24 16:50:26,030 - INFO - 模型问答耗时: 1.52秒
2025-04-24 16:50:38,898 - ERROR - 语音播放失败：[Errno 2] No such file or directory: 'temp_audio_124615993216016.mp3'
2025-04-24 16:50:45,903 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-24 16:50:46,540 - INFO - 模型问答耗时: 1.14秒
2025-04-24 16:51:03,091 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-24 16:53:29,498 - INFO - Use pytorch device_name: cuda
2025-04-24 16:53:29,498 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-24 16:53:34,859 - INFO - Loading faiss with AVX512 support.
2025-04-24 16:53:34,870 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-24 16:53:34,873 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-24 16:54:34,375 - INFO - Use pytorch device_name: cuda
2025-04-24 16:54:34,375 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-24 16:54:36,877 - INFO - Loading faiss with AVX512 support.
2025-04-24 16:54:36,888 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-24 16:54:36,890 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-24 16:54:43,734 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-24 16:54:43,817 - INFO - 模型问答耗时: 0.55秒
2025-04-24 16:54:59,410 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-24 16:54:59,493 - INFO - 模型问答耗时: 0.50秒
2025-04-24 16:55:13,042 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-24 16:55:13,126 - INFO - 模型问答耗时: 0.33秒
2025-04-24 16:55:31,152 - INFO - Use pytorch device_name: cuda
2025-04-24 16:55:31,152 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-24 16:55:32,644 - INFO - Loading faiss with AVX512 support.
2025-04-24 16:55:32,655 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-24 16:55:32,658 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-24 16:55:39,256 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-24 16:55:39,308 - INFO - 模型问答耗时: 0.47秒
2025-04-24 16:55:53,171 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-24 16:55:54,040 - INFO - 模型问答耗时: 1.13秒
2025-04-24 16:56:23,042 - INFO - Use pytorch device_name: cuda
2025-04-24 16:56:23,042 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-24 16:56:25,191 - INFO - Loading faiss with AVX512 support.
2025-04-24 16:56:25,201 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-24 16:56:25,204 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-24 16:56:32,442 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-24 16:56:32,524 - INFO - 模型问答耗时: 0.48秒
2025-04-25 12:49:09,996 - INFO - Use pytorch device_name: cuda
2025-04-25 12:49:09,996 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 12:49:11,105 - INFO - Loading faiss with AVX512 support.
2025-04-25 12:49:11,125 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 12:49:11,128 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 12:49:11,130 - WARNING - Retry 1/3 loading vectorstore: Error in faiss::FileIOReader::FileIOReader(const char*) at /project/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open ../faiss_index/index.faiss for reading: No such file or directory
2025-04-25 12:49:12,130 - WARNING - Retry 2/3 loading vectorstore: Error in faiss::FileIOReader::FileIOReader(const char*) at /project/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open ../faiss_index/index.faiss for reading: No such file or directory
2025-04-25 12:49:13,130 - ERROR - Failed to load vectorstore after 3 attempts: Error in faiss::FileIOReader::FileIOReader(const char*) at /project/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open ../faiss_index/index.faiss for reading: No such file or directory
2025-04-25 12:49:26,656 - INFO - Use pytorch device_name: cuda
2025-04-25 12:49:26,656 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 12:49:27,601 - INFO - Loading faiss with AVX512 support.
2025-04-25 12:49:27,614 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 12:49:27,617 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 12:49:31,240 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 12:49:34,195 - INFO - Model streaming completed in 6.39 seconds
2025-04-25 12:52:24,567 - INFO - Use pytorch device_name: cuda
2025-04-25 12:52:24,567 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 12:52:25,663 - INFO - Loading faiss with AVX512 support.
2025-04-25 12:52:25,677 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 12:52:25,680 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 12:52:25,904 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 12:52:28,997 - INFO - 流式回答花费了 3.16 seconds
2025-04-25 12:58:58,245 - INFO - Use pytorch device_name: cuda
2025-04-25 12:58:58,245 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 12:58:59,232 - INFO - Loading faiss with AVX512 support.
2025-04-25 12:58:59,242 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 12:58:59,245 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 12:59:07,507 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 12:59:07,550 - INFO - 流式回答花费了 1.78 seconds
2025-04-25 12:59:14,088 - INFO - mpg123 进程开启
2025-04-25 12:59:25,606 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 12:59:25,650 - INFO - 流式回答花费了 0.23 seconds
2025-04-25 12:59:32,333 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 12:59:32,376 - INFO - 流式回答花费了 0.24 seconds
2025-04-25 12:59:39,280 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 12:59:39,323 - INFO - 流式回答花费了 0.28 seconds
2025-04-25 12:59:49,056 - ERROR - 音频播放错误: [Errno 32] Broken pipe
2025-04-25 12:59:49,076 - ERROR - 音频播放错误: [Errno 32] Broken pipe
2025-04-25 12:59:49,557 - ERROR - 音频播放错误: [Errno 32] Broken pipe
2025-04-25 13:00:28,812 - INFO - Use pytorch device_name: cuda
2025-04-25 13:00:28,812 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 13:00:29,826 - INFO - Loading faiss with AVX512 support.
2025-04-25 13:00:29,839 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 13:00:29,843 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 13:00:36,143 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:00:36,188 - INFO - 流式回答花费了 0.35 seconds
2025-04-25 13:00:42,733 - INFO - mpg123 进程开启
2025-04-25 13:00:44,462 - ERROR - 音频播放错误: [Errno 32] Broken pipe
2025-04-25 13:00:44,486 - ERROR - 音频播放错误: [Errno 32] Broken pipe
2025-04-25 13:00:44,501 - ERROR - 音频播放错误: [Errno 32] Broken pipe
2025-04-25 13:00:44,832 - ERROR - 音频播放错误: [Errno 32] Broken pipe
2025-04-25 13:02:45,314 - INFO - Use pytorch device_name: cuda
2025-04-25 13:02:45,314 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 13:02:46,318 - INFO - Loading faiss with AVX512 support.
2025-04-25 13:02:46,329 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 13:02:46,332 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 13:02:52,896 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:02:52,938 - INFO - 流式回答花费了 0.32 seconds
2025-04-25 13:02:52,938 - INFO - 等待 1.5 秒后再次开始监听...
2025-04-25 13:03:00,603 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:03:02,038 - INFO - mpg123 进程开启
2025-04-25 13:03:14,771 - INFO - 流式回答花费了 14.43 seconds
2025-04-25 13:03:14,771 - INFO - 等待 1.5 秒后再次开始监听...
2025-04-25 13:03:23,010 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:03:23,053 - INFO - 流式回答花费了 0.25 seconds
2025-04-25 13:03:23,053 - INFO - 等待 1.5 秒后再次开始监听...
2025-04-25 13:03:30,601 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:03:30,644 - INFO - 流式回答花费了 0.22 seconds
2025-04-25 13:03:30,644 - INFO - 等待 1.5 秒后再次开始监听...
2025-04-25 13:03:40,242 - ERROR - 音频播放错误: [Errno 32] Broken pipe
2025-04-25 13:03:40,296 - ERROR - 音频播放错误: [Errno 32] Broken pipe
2025-04-25 13:03:40,780 - ERROR - 音频播放错误: [Errno 32] Broken pipe
2025-04-25 13:03:40,781 - INFO - 等待 1.5 秒后再次开始监听...
2025-04-25 13:03:42,283 - ERROR - 清理资源时出错: [Errno 32] Broken pipe
2025-04-25 13:07:53,446 - INFO - Use pytorch device_name: cuda
2025-04-25 13:07:53,446 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 13:07:54,451 - INFO - Loading faiss with AVX512 support.
2025-04-25 13:07:54,462 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 13:07:54,465 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 13:08:00,841 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:08:00,884 - INFO - 流式回答花费了 0.28 seconds
2025-04-25 13:08:00,885 - INFO - 等待 1.5 秒后再次开始监听...
2025-04-25 13:08:08,476 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:08:08,520 - INFO - 流式回答花费了 0.27 seconds
2025-04-25 13:08:08,520 - INFO - 等待 1.5 秒后再次开始监听...
2025-04-25 13:08:15,833 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:08:17,179 - INFO - 正在准备TTS音频: 甘薯不同品种耐贮性差异较大.紫薯比红薯耐贮藏,大叶红、烟薯2...
2025-04-25 13:08:19,438 - INFO - TTS音频准备完成，耗时: 2.26秒
2025-04-25 13:08:19,440 - INFO - mpg123 进程开启
2025-04-25 13:08:23,445 - INFO - TTS 处理总耗时: 6.27秒
2025-04-25 13:08:23,452 - INFO - 正在准备TTS音频: 、纺锤形、表皮薄、糖含量高的红薯不耐贮藏,北京553、红香蕉...
2025-04-25 13:08:25,746 - INFO - TTS音频准备完成，耗时: 2.29秒
2025-04-25 13:08:31,935 - INFO - TTS 处理总耗时: 8.48秒
2025-04-25 13:08:31,940 - INFO - 流式回答花费了 16.37 seconds
2025-04-25 13:08:31,940 - INFO - 正在准备TTS音频: 厚、糖含量低的红薯耐贮性稍好....
2025-04-25 13:08:34,054 - INFO - TTS音频准备完成，耗时: 2.11秒
2025-04-25 13:08:35,556 - INFO - TTS 处理总耗时: 3.62秒
2025-04-25 13:08:35,557 - INFO - 等待 1.5 秒后再次开始监听...
2025-04-25 13:08:43,997 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:08:45,138 - INFO - 正在准备TTS音频: 我知道甘薯原产于美洲中部或南美洲西北部的热带地区,16世纪初...
2025-04-25 13:08:47,326 - INFO - TTS音频准备完成，耗时: 2.19秒
2025-04-25 13:08:51,330 - INFO - TTS 处理总耗时: 6.19秒
2025-04-25 13:08:51,331 - INFO - 流式回答花费了 7.69 seconds
2025-04-25 13:08:51,331 - INFO - 正在准备TTS音频: 、广东栽培....
2025-04-25 13:08:53,452 - INFO - TTS音频准备完成，耗时: 2.12秒
2025-04-25 13:08:54,053 - INFO - TTS 处理总耗时: 2.72秒
2025-04-25 13:08:54,053 - INFO - 等待 1.5 秒后再次开始监听...
2025-04-25 13:09:02,204 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:09:02,250 - INFO - 流式回答花费了 0.27 seconds
2025-04-25 13:09:02,250 - INFO - 等待 1.5 秒后再次开始监听...
2025-04-25 13:09:03,952 - INFO - mpg123 进程已关闭
2025-04-25 13:16:46,333 - INFO - 正在初始化甘薯问答系统...
2025-04-25 13:16:48,701 - INFO - Use pytorch device_name: cuda
2025-04-25 13:16:48,701 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 13:16:49,675 - INFO - Loading faiss with AVX512 support.
2025-04-25 13:16:49,687 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 13:16:49,689 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 13:16:49,845 - INFO - 系统初始化完成
2025-04-25 13:16:49,846 - INFO - mpg123播放器已启动
2025-04-25 13:16:54,673 - INFO - 等待用户输入...
2025-04-25 13:17:41,029 - INFO - 正在初始化甘薯问答系统...
2025-04-25 13:17:43,462 - INFO - Use pytorch device_name: cuda
2025-04-25 13:17:43,462 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 13:17:44,435 - INFO - Loading faiss with AVX512 support.
2025-04-25 13:17:44,447 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 13:17:44,450 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 13:17:44,622 - INFO - 系统初始化完成
2025-04-25 13:17:44,623 - INFO - mpg123播放器已启动
2025-04-25 13:17:49,351 - INFO - 等待用户输入...
2025-04-25 13:17:55,723 - INFO - 用户问题: Tts，已经启动。
2025-04-25 13:17:55,723 - INFO - 正在处理问题...
2025-04-25 13:17:57,436 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:17:57,483 - INFO - 流式回答花费了 1.62 seconds
2025-04-25 13:17:57,483 - INFO - 完整响应 (1.76秒)：我不知道
2025-04-25 13:18:01,013 - INFO - 等待用户输入...
2025-04-25 13:18:07,423 - INFO - 用户问题: 甘薯的贮藏特性。
2025-04-25 13:18:07,423 - INFO - 正在处理问题...
2025-04-25 13:18:07,728 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:18:11,156 - INFO - 流式回答花费了 3.73 seconds
2025-04-25 13:18:11,156 - INFO - 完整响应 (3.73秒)：甘薯不同品种耐贮性差异大。紫薯比红薯耐贮藏，大叶红、烟薯25、济薯26等体积小、纺锤形、表皮薄、糖含量高的红薯耐贮性差；北京553、红香蕉等体积大、球形、表皮厚、糖含量低的红薯耐贮性稍好。
2025-04-25 13:18:30,126 - INFO - 等待用户输入...
2025-04-25 13:18:38,306 - INFO - 用户问题: 66个小时，五十五十五十五十五五十五十五十五十五十五十五十五十五十五十五十五十五十五十五十五十四十三十三十三十三十三十三十三十三十三十三嗯。
2025-04-25 13:18:38,306 - INFO - 正在处理问题...
2025-04-25 13:18:38,306 - INFO - 收到退出信号
2025-04-25 13:18:38,307 - INFO - 收到退出信号
2025-04-25 13:18:38,585 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:18:38,631 - INFO - 流式回答花费了 0.30 seconds
2025-04-25 13:18:38,631 - INFO - 完整响应 (0.33秒)：我不知道
2025-04-25 13:18:42,668 - INFO - 正在关闭系统...
2025-04-25 13:18:43,169 - INFO - mpg123播放器已关闭
2025-04-25 13:18:43,173 - INFO - 所有资源已清理，系统已安全关闭
2025-04-25 13:19:00,639 - INFO - 正在初始化甘薯问答系统...
2025-04-25 13:19:03,129 - INFO - Use pytorch device_name: cuda
2025-04-25 13:19:03,129 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 13:19:04,107 - INFO - Loading faiss with AVX512 support.
2025-04-25 13:19:04,121 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 13:19:04,125 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 13:19:04,288 - INFO - 系统初始化完成
2025-04-25 13:19:04,289 - INFO - mpg123播放器已启动
2025-04-25 13:19:09,075 - INFO - 等待用户输入...
2025-04-25 13:19:15,409 - INFO - 用户问题: 为中山。
2025-04-25 13:19:15,410 - INFO - 正在处理问题...
2025-04-25 13:19:15,867 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:19:15,913 - INFO - 流式回答花费了 0.36 seconds
2025-04-25 13:19:15,913 - INFO - 完整响应 (0.50秒)：我不知道
2025-04-25 13:19:19,206 - INFO - 等待用户输入...
2025-04-25 13:19:25,611 - INFO - 用户问题: 的遇上处理该死的雨伤处理。
2025-04-25 13:19:25,612 - INFO - 正在处理问题...
2025-04-25 13:19:25,855 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:19:25,902 - INFO - 流式回答花费了 0.28 seconds
2025-04-25 13:19:25,902 - INFO - 完整响应 (0.29秒)：我不知道
2025-04-25 13:19:29,204 - INFO - 等待用户输入...
2025-04-25 13:19:35,199 - INFO - 用户问题: 甘肃的玉商处理。
2025-04-25 13:19:35,199 - INFO - 正在处理问题...
2025-04-25 13:19:35,596 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:19:35,643 - INFO - 流式回答花费了 0.42 seconds
2025-04-25 13:19:35,643 - INFO - 完整响应 (0.44秒)：我不知道
2025-04-25 13:19:39,046 - INFO - 等待用户输入...
2025-04-25 13:19:45,010 - INFO - 用户问题: 如何对甘肃省？
2025-04-25 13:19:45,010 - INFO - 正在处理问题...
2025-04-25 13:19:45,212 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:19:45,260 - INFO - 流式回答花费了 0.24 seconds
2025-04-25 13:19:45,260 - INFO - 完整响应 (0.25秒)：我不知道
2025-04-25 13:19:48,661 - INFO - 等待用户输入...
2025-04-25 13:19:54,617 - INFO - 用户问题: 该死的包装方式。
2025-04-25 13:19:54,618 - INFO - 正在处理问题...
2025-04-25 13:19:54,862 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:19:55,112 - INFO - 流式回答花费了 0.48 seconds
2025-04-25 13:19:55,112 - INFO - 完整响应 (0.49秒)：袋装、箱装。
2025-04-25 13:19:58,869 - INFO - 等待用户输入...
2025-04-25 13:20:04,995 - INFO - 用户问题: 甘肃的包装方式，单数的包装方式。
2025-04-25 13:20:04,996 - INFO - 正在处理问题...
2025-04-25 13:20:05,250 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:20:05,582 - INFO - 流式回答花费了 0.58 seconds
2025-04-25 13:20:05,582 - INFO - 完整响应 (0.59秒)：甘肃的包装方式主要有袋装。
2025-04-25 13:20:09,853 - INFO - 等待用户输入...
2025-04-25 13:20:16,277 - INFO - 用户问题: 高端公司甘肃的使用建议。
2025-04-25 13:20:16,277 - INFO - 正在处理问题...
2025-04-25 13:20:16,582 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:20:16,628 - INFO - 流式回答花费了 0.34 seconds
2025-04-25 13:20:16,628 - INFO - 完整响应 (0.35秒)：我不知道
2025-04-25 13:20:19,983 - INFO - 等待用户输入...
2025-04-25 13:20:26,387 - INFO - 用户问题: 金属的使用电子使用建议。
2025-04-25 13:20:26,396 - INFO - 正在处理问题...
2025-04-25 13:20:26,635 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:20:26,681 - INFO - 流式回答花费了 0.28 seconds
2025-04-25 13:20:26,681 - INFO - 完整响应 (0.28秒)：我不知道
2025-04-25 13:20:28,354 - INFO - 收到退出信号
2025-04-25 13:20:30,209 - INFO - 正在关闭系统...
2025-04-25 13:20:30,710 - INFO - mpg123播放器已关闭
2025-04-25 13:20:30,714 - INFO - 所有资源已清理，系统已安全关闭
2025-04-25 13:25:56,878 - INFO - 正在初始化甘薯问答系统...
2025-04-25 13:25:59,230 - INFO - Use pytorch device_name: cuda
2025-04-25 13:25:59,230 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 13:26:00,251 - INFO - Loading faiss with AVX512 support.
2025-04-25 13:26:00,262 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 13:26:00,265 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 13:26:00,436 - INFO - 系统初始化完成
2025-04-25 13:26:00,437 - INFO - mpg123播放器已启动
2025-04-25 13:26:04,959 - INFO - 等待用户输入...
2025-04-25 13:26:11,610 - INFO - 用户问题: 甘薯的贮藏特性。
2025-04-25 13:26:11,611 - INFO - 正在处理问题...
2025-04-25 13:26:13,395 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:26:16,763 - INFO - 流式回答花费了 5.01 seconds
2025-04-25 13:26:16,763 - INFO - 完整响应 (5.15秒)：甘薯不同品种耐贮性差异较大。紫薯比红薯耐贮藏，大叶红、烟薯25、济薯26等体积小、纺锤形、表皮薄、糖含量高的红薯耐贮性差，北京553、红香蕉等体积大、球形、表皮厚、糖含量低的红薯耐贮性稍好。
2025-04-25 13:26:34,439 - INFO - 等待用户输入...
2025-04-25 13:26:42,286 - INFO - 用户问题: 我3/26分钟小时早早早早早早点儿高的时候出场五十五十三五十三早早早早早早早早早早早早早那就去商场。
2025-04-25 13:26:42,287 - INFO - 正在处理问题...
2025-04-25 13:26:42,558 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:26:42,604 - INFO - 流式回答花费了 0.30 seconds
2025-04-25 13:26:42,604 - INFO - 完整响应 (0.32秒)：我不知道
2025-04-25 13:26:47,054 - INFO - 等待用户输入...
2025-04-25 13:26:53,160 - INFO - 用户问题: 
2025-04-25 13:26:53,661 - INFO - 等待用户输入...
2025-04-25 13:26:59,616 - INFO - 用户问题: 
2025-04-25 13:27:00,118 - INFO - 等待用户输入...
2025-04-25 13:27:06,414 - INFO - 用户问题: 甘肃的猪头退休。
2025-04-25 13:27:06,415 - INFO - 正在处理问题...
2025-04-25 13:27:06,751 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:27:06,798 - INFO - 流式回答花费了 0.36 seconds
2025-04-25 13:27:06,798 - INFO - 完整响应 (0.38秒)：我不知道
2025-04-25 13:27:10,162 - INFO - 等待用户输入...
2025-04-25 13:27:16,412 - INFO - 用户问题: 甘薯的食用建议。
2025-04-25 13:27:16,412 - INFO - 正在处理问题...
2025-04-25 13:27:16,746 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:27:18,473 - INFO - 流式回答花费了 2.05 seconds
2025-04-25 13:27:18,473 - INFO - 完整响应 (2.06秒)：不宜生吃，需适当延长蒸煮时间，烂甘薯和发芽的甘薯不可食用，可制作主食和点心，与米面搭配食用能互补蛋白质。
2025-04-25 13:27:27,766 - INFO - 等待用户输入...
2025-04-25 13:27:34,146 - INFO - 用户问题: 知道城中之间那我就不知道了。
2025-04-25 13:27:34,146 - INFO - 正在处理问题...
2025-04-25 13:27:34,147 - INFO - 收到退出信号
2025-04-25 13:27:34,491 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:27:34,538 - INFO - 流式回答花费了 0.37 seconds
2025-04-25 13:27:34,538 - INFO - 完整响应 (0.39秒)：我不知道
2025-04-25 13:27:37,982 - INFO - 正在关闭系统...
2025-04-25 13:27:38,483 - INFO - mpg123播放器已关闭
2025-04-25 13:27:38,492 - INFO - 所有资源已清理，系统已安全关闭
2025-04-25 13:29:19,596 - INFO - 正在初始化甘薯问答系统...
2025-04-25 13:29:21,947 - INFO - Use pytorch device_name: cuda
2025-04-25 13:29:21,947 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 13:29:22,970 - INFO - Loading faiss with AVX512 support.
2025-04-25 13:29:22,981 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 13:29:22,984 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 13:29:23,152 - INFO - 系统初始化完成
2025-04-25 13:29:23,153 - INFO - mpg123播放器已启动
2025-04-25 13:29:27,925 - INFO - 等待用户输入...
2025-04-25 13:29:34,588 - INFO - 用户问题: 那个王子。
2025-04-25 13:29:34,588 - INFO - 正在处理问题...
2025-04-25 13:29:34,954 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:29:34,999 - INFO - 流式回答花费了 0.26 seconds
2025-04-25 13:29:34,999 - INFO - 完整响应 (0.41秒)：我不知道
2025-04-25 13:29:38,327 - INFO - 等待用户输入...
2025-04-25 13:29:44,732 - INFO - 用户问题: 颗星甘薯的贮藏特性。
2025-04-25 13:29:44,732 - INFO - 正在处理问题...
2025-04-25 13:29:45,062 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:29:47,048 - INFO - 流式回答花费了 2.31 seconds
2025-04-25 13:29:47,048 - INFO - 完整响应 (2.32秒)：我知道不同品种耐贮性差异大，紫薯比红薯耐贮藏，北京553、红香蕉等体积大、球形、表皮厚、糖含量低的红薯耐贮性稍好。
2025-04-25 13:29:58,849 - INFO - 等待用户输入...
2025-04-25 13:30:06,270 - INFO - 用户问题: 我们从小时候到我们班，只不过含量低的不适应，毕竟生活。
2025-04-25 13:30:06,271 - INFO - 正在处理问题...
2025-04-25 13:30:06,631 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:30:06,677 - INFO - 流式回答花费了 0.38 seconds
2025-04-25 13:30:06,677 - INFO - 完整响应 (0.41秒)：我不知道
2025-04-25 13:30:10,026 - INFO - 等待用户输入...
2025-04-25 13:30:16,199 - INFO - 用户问题: 我不知道。
2025-04-25 13:30:16,199 - INFO - 正在处理问题...
2025-04-25 13:30:16,407 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:30:16,456 - INFO - 流式回答花费了 0.25 seconds
2025-04-25 13:30:16,456 - INFO - 完整响应 (0.26秒)：我不知道
2025-04-25 13:30:18,246 - INFO - 收到退出信号
2025-04-25 13:30:20,239 - INFO - 正在关闭系统...
2025-04-25 13:30:20,740 - INFO - mpg123播放器已关闭
2025-04-25 13:30:20,744 - INFO - 所有资源已清理，系统已安全关闭
2025-04-25 13:32:59,585 - INFO - 正在初始化甘薯问答系统...
2025-04-25 13:33:02,035 - INFO - Use pytorch device_name: cuda
2025-04-25 13:33:02,035 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 13:33:03,056 - INFO - Loading faiss with AVX512 support.
2025-04-25 13:33:03,067 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 13:33:03,071 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 13:33:03,233 - INFO - 系统初始化完成
2025-04-25 13:33:03,233 - INFO - 正在准备TTS音频: 甘薯知识问答系统已启动，请问您有什么关于甘薯的问题？...
2025-04-25 13:33:05,862 - INFO - TTS音频准备完成，耗时: 2.63秒
2025-04-25 13:33:05,865 - INFO - mpg123 进程开启
2025-04-25 13:33:08,467 - INFO - TTS 处理总耗时: 5.23秒
2025-04-25 13:33:09,969 - INFO - 等待用户输入...
2025-04-25 13:33:16,371 - INFO - 用户问题: 新旺记记记记记记甘薯的贮藏特性。
2025-04-25 13:33:16,371 - INFO - 正在处理问题...
2025-04-25 13:33:16,831 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:33:17,197 - INFO - 正在准备TTS音频: 甘薯不同品种耐贮性差异较大。...
2025-04-25 13:33:19,696 - INFO - TTS音频准备完成，耗时: 2.50秒
2025-04-25 13:33:21,099 - INFO - TTS 处理总耗时: 3.90秒
2025-04-25 13:33:21,602 - INFO - 正在准备TTS音频: 紫薯比红薯...
2025-04-25 13:33:23,649 - INFO - TTS音频准备完成，耗时: 2.05秒
2025-04-25 13:33:24,150 - INFO - TTS 处理总耗时: 2.55秒
2025-04-25 13:33:24,653 - INFO - 正在准备TTS音频: 耐贮藏，大...
2025-04-25 13:33:26,644 - INFO - TTS音频准备完成，耗时: 1.99秒
2025-04-25 13:33:27,146 - INFO - TTS 处理总耗时: 2.49秒
2025-04-25 13:33:27,651 - INFO - 正在准备TTS音频: 叶红、烟薯...
2025-04-25 13:33:29,678 - INFO - TTS音频准备完成，耗时: 2.03秒
2025-04-25 13:33:30,179 - INFO - TTS 处理总耗时: 2.53秒
2025-04-25 13:33:30,684 - INFO - 正在准备TTS音频: 25、济薯...
2025-04-25 13:33:32,760 - INFO - TTS音频准备完成，耗时: 2.08秒
2025-04-25 13:33:33,260 - INFO - TTS 处理总耗时: 2.58秒
2025-04-25 13:33:33,763 - INFO - 正在准备TTS音频: 26等体积...
2025-04-25 13:33:35,820 - INFO - TTS音频准备完成，耗时: 2.06秒
2025-04-25 13:33:36,322 - INFO - TTS 处理总耗时: 2.56秒
2025-04-25 13:33:36,826 - INFO - 正在准备TTS音频: 小、纺锤形...
2025-04-25 13:33:38,991 - INFO - TTS音频准备完成，耗时: 2.17秒
2025-04-25 13:33:39,493 - INFO - TTS 处理总耗时: 2.67秒
2025-04-25 13:33:39,994 - INFO - 正在准备TTS音频: 、表皮薄、...
2025-04-25 13:33:41,959 - INFO - TTS音频准备完成，耗时: 1.97秒
2025-04-25 13:33:42,461 - INFO - TTS 处理总耗时: 2.47秒
2025-04-25 13:33:42,962 - INFO - 正在准备TTS音频: 糖含量高的...
2025-04-25 13:33:45,188 - INFO - TTS音频准备完成，耗时: 2.23秒
2025-04-25 13:33:45,691 - INFO - TTS 处理总耗时: 2.73秒
2025-04-25 13:33:45,693 - INFO - 收到退出信号
2025-04-25 13:33:46,194 - INFO - 正在准备TTS音频: 红薯耐贮性...
2025-04-25 13:33:48,180 - INFO - TTS音频准备完成，耗时: 1.99秒
2025-04-25 13:33:48,181 - INFO - mpg123 进程开启
2025-04-25 13:33:48,682 - INFO - TTS 处理总耗时: 2.49秒
2025-04-25 13:33:49,185 - INFO - 正在准备TTS音频: 差，北京5...
2025-04-25 13:33:50,698 - INFO - 收到退出信号
2025-04-25 13:33:51,406 - INFO - TTS音频准备完成，耗时: 2.22秒
2025-04-25 13:33:51,906 - INFO - TTS 处理总耗时: 2.72秒
2025-04-25 13:33:52,407 - INFO - 正在准备TTS音频: 53、红香蕉...
2025-04-25 13:33:55,016 - INFO - TTS音频准备完成，耗时: 2.61秒
2025-04-25 13:33:55,019 - INFO - mpg123 进程开启
2025-04-25 13:33:55,620 - INFO - TTS 处理总耗时: 3.21秒
2025-04-25 13:33:56,123 - INFO - 正在准备TTS音频: 等体积大、...
2025-04-25 13:33:58,834 - INFO - TTS音频准备完成，耗时: 2.71秒
2025-04-25 13:33:59,335 - INFO - TTS 处理总耗时: 3.21秒
2025-04-25 13:33:59,836 - INFO - 正在准备TTS音频: 球形、表皮...
2025-04-25 13:34:00,328 - INFO - 收到退出信号
2025-04-25 13:34:02,040 - INFO - TTS音频准备完成，耗时: 2.20秒
2025-04-25 13:34:02,043 - INFO - mpg123 进程开启
2025-04-25 13:34:02,544 - INFO - TTS 处理总耗时: 2.71秒
2025-04-25 13:34:03,047 - INFO - 正在准备TTS音频: 厚、糖含量...
2025-04-25 13:34:03,048 - INFO - 收到退出信号
2025-04-25 13:34:03,521 - INFO - 收到退出信号
2025-04-25 13:34:03,521 - INFO - 收到退出信号
2025-04-25 13:34:03,747 - INFO - 收到退出信号
2025-04-25 13:34:03,759 - INFO - 收到退出信号
2025-04-25 13:34:03,964 - INFO - 收到退出信号
2025-04-25 13:34:04,282 - INFO - 收到退出信号
2025-04-25 13:34:04,589 - INFO - 收到退出信号
2025-04-25 13:34:04,589 - INFO - 收到退出信号
2025-04-25 13:34:04,746 - INFO - 收到退出信号
2025-04-25 13:34:05,111 - INFO - 收到退出信号
2025-04-25 13:34:05,111 - INFO - 收到退出信号
2025-04-25 13:34:05,111 - INFO - TTS音频准备完成，耗时: 2.06秒
2025-04-25 13:34:05,112 - INFO - mpg123 进程开启
2025-04-25 13:34:05,614 - INFO - TTS 处理总耗时: 2.57秒
2025-04-25 13:34:05,614 - INFO - 收到退出信号
2025-04-25 13:34:06,117 - INFO - 正在准备TTS音频: 低的红薯耐...
2025-04-25 13:34:08,260 - INFO - TTS音频准备完成，耗时: 2.14秒
2025-04-25 13:34:08,263 - INFO - mpg123 进程开启
2025-04-25 13:34:08,764 - INFO - TTS 处理总耗时: 2.65秒
2025-04-25 13:34:09,267 - INFO - 正在准备TTS音频: 贮性稍好。...
2025-04-25 13:34:09,969 - INFO - 收到退出信号
2025-04-25 13:34:10,178 - INFO - 收到退出信号
2025-04-25 13:34:11,362 - INFO - TTS音频准备完成，耗时: 2.10秒
2025-04-25 13:34:11,863 - INFO - TTS 处理总耗时: 2.60秒
2025-04-25 13:41:28,287 - INFO - 正在初始化甘薯问答系统...
2025-04-25 13:41:30,764 - INFO - Use pytorch device_name: cuda
2025-04-25 13:41:30,764 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 13:41:31,760 - INFO - Loading faiss with AVX512 support.
2025-04-25 13:41:31,773 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 13:41:31,775 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 13:41:31,946 - INFO - 系统初始化完成
2025-04-25 13:41:31,947 - INFO - mpg123播放器已启动
2025-04-25 13:41:36,563 - INFO - 等待用户输入...
2025-04-25 13:42:16,665 - INFO - 正在初始化甘薯问答系统...
2025-04-25 13:42:19,308 - INFO - Use pytorch device_name: cuda
2025-04-25 13:42:19,308 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 13:42:20,206 - INFO - Loading faiss with AVX512 support.
2025-04-25 13:42:20,217 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 13:42:20,219 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 13:42:20,391 - INFO - 系统初始化完成
2025-04-25 13:42:20,392 - INFO - mpg123播放器已启动
2025-04-25 13:42:25,460 - INFO - 等待用户输入...
2025-04-25 13:42:32,277 - INFO - 用户问题: 甘肃省铸造特性中。
2025-04-25 13:42:32,277 - INFO - 正在处理问题...
2025-04-25 13:42:34,064 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:42:34,111 - INFO - 流式回答花费了 1.69 seconds
2025-04-25 13:42:34,111 - INFO - 完整响应 (1.83秒)：我不知道
2025-04-25 13:42:37,822 - INFO - 等待用户输入...
2025-04-25 13:42:44,486 - INFO - 用户问题: 甘薯的贮藏可信？
2025-04-25 13:42:44,486 - INFO - 正在处理问题...
2025-04-25 13:42:44,779 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:42:47,225 - INFO - 流式回答花费了 2.72 seconds
2025-04-25 13:42:47,225 - INFO - 完整响应 (2.74秒)：甘薯贮藏需考虑品种特性，如紫薯、大叶红等耐贮性差，而北京553、红香蕉等耐贮性稍好。我国是甘薯生产大国，主要种植在淮海平原、长江流域和东南沿海等地。
2025-04-25 13:43:05,692 - INFO - 等待用户输入...
2025-04-25 13:43:12,393 - INFO - 用户问题: 如果。
2025-04-25 13:43:12,393 - INFO - 正在处理问题...
2025-04-25 13:43:12,733 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:43:12,780 - INFO - 流式回答花费了 0.36 seconds
2025-04-25 13:43:12,780 - INFO - 完整响应 (0.39秒)：我不知道
2025-04-25 13:43:14,018 - INFO - 收到退出信号
2025-04-25 13:43:16,710 - INFO - 正在关闭系统...
2025-04-25 13:43:17,211 - INFO - mpg123播放器已关闭
2025-04-25 13:43:17,218 - INFO - 所有资源已清理，系统已安全关闭
2025-04-25 13:44:39,243 - INFO - Use pytorch device_name: cuda
2025-04-25 13:44:39,244 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 13:44:40,215 - INFO - Loading faiss with AVX512 support.
2025-04-25 13:44:40,228 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 13:44:40,231 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 13:50:39,296 - INFO - Use pytorch device_name: cuda
2025-04-25 13:50:39,296 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 13:50:40,414 - INFO - Loading faiss with AVX512 support.
2025-04-25 13:50:40,426 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 13:50:40,428 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 13:51:02,222 - INFO - Use pytorch device_name: cuda
2025-04-25 13:51:02,223 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 13:51:03,272 - INFO - Loading faiss with AVX512 support.
2025-04-25 13:51:03,283 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 13:51:03,285 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 13:51:39,089 - INFO - Use pytorch device_name: cuda
2025-04-25 13:51:39,089 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 13:51:40,105 - INFO - Loading faiss with AVX512 support.
2025-04-25 13:51:40,117 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 13:51:40,119 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 13:54:34,192 - INFO - Use pytorch device_name: cuda
2025-04-25 13:54:34,192 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 13:54:35,209 - INFO - Loading faiss with AVX512 support.
2025-04-25 13:54:35,221 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 13:54:35,223 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 13:54:43,699 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:54:43,754 - INFO - 问答耗时: 1.80秒
2025-04-25 13:54:55,735 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:54:55,785 - INFO - 问答耗时: 0.47秒
2025-04-25 13:55:08,484 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:55:08,535 - INFO - 问答耗时: 0.44秒
2025-04-25 13:55:20,162 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:55:20,213 - INFO - 问答耗时: 0.40秒
2025-04-25 13:55:31,773 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 13:55:35,561 - INFO - 问答耗时: 4.11秒
2025-04-25 16:31:19,877 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main.py:50> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main.py", line 84, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main.py", line 61, in main
    await tts.text_to_speech("系统初始化失败，请检查人脸模型")
  File "/home/wuye/vscode/chatbox/TTS/tts.py", line 83, in text_to_speech
    await self.speak(text)
  File "/home/wuye/vscode/chatbox/TTS/tts.py", line 65, in speak
    result = subprocess.run(["mpg123", output_file], capture_output=True, text=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/subprocess.py", line 550, in run
    stdout, stderr = process.communicate(input, timeout=timeout)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/subprocess.py", line 1209, in communicate
    stdout, stderr = self._communicate(input, endtime, timeout)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/subprocess.py", line 2113, in _communicate
    ready = selector.select(timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/selectors.py", line 415, in select
    fd_event_list = self._selector.poll(timeout)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyboardInterrupt
2025-04-25 16:34:06,980 - INFO - Use pytorch device_name: cuda
2025-04-25 16:34:06,980 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 16:34:07,872 - INFO - Loading faiss with AVX512 support.
2025-04-25 16:34:07,886 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 16:34:07,889 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 16:34:24,233 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 16:34:24,292 - INFO - 问答耗时: 1.82秒
2025-04-25 16:34:35,163 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 16:34:39,520 - INFO - 问答耗时: 4.73秒
2025-04-25 16:36:07,048 - INFO - Use pytorch device_name: cuda
2025-04-25 16:36:07,048 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 16:36:07,907 - INFO - Loading faiss with AVX512 support.
2025-04-25 16:36:07,920 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 16:36:07,922 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 16:36:21,935 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 16:36:21,996 - INFO - 问答耗时: 0.49秒
2025-04-25 16:36:48,130 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main.py:50> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main.py", line 84, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main.py", line 75, in main
    await run_sweet_potato_system()
  File "/home/wuye/vscode/chatbox/main.py", line 47, in run_sweet_potato_system
    await tts.text_to_speech("感谢使用甘薯知识助手，再见！")
  File "/home/wuye/vscode/chatbox/TTS/tts.py", line 83, in text_to_speech
    await self.speak(text)
  File "/home/wuye/vscode/chatbox/TTS/tts.py", line 65, in speak
    result = subprocess.run(["mpg123", output_file], capture_output=True, text=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/subprocess.py", line 550, in run
    stdout, stderr = process.communicate(input, timeout=timeout)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/subprocess.py", line 1209, in communicate
    stdout, stderr = self._communicate(input, endtime, timeout)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/subprocess.py", line 2113, in _communicate
    ready = selector.select(timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/selectors.py", line 415, in select
    fd_event_list = self._selector.poll(timeout)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyboardInterrupt
2025-04-25 16:37:08,624 - ERROR - 语音播放失败：mpg123 播放失败：High Performance MPEG 1.0/2.0/2.5 Audio Player for Layers 1, 2 and 3
	version 1.32.5; written and copyright by Michael Hipp and others
	free software (LGPL) without any warranty but with best wishes
[src/streamdump.c:stream_open():600] error: failed to open file: temp_audio_137095038181072.mp3: No such file or directory

2025-04-25 16:37:32,686 - INFO - Use pytorch device_name: cuda
2025-04-25 16:37:32,686 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 16:37:34,017 - INFO - Loading faiss with AVX512 support.
2025-04-25 16:37:34,040 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 16:37:34,043 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 16:37:49,051 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 16:37:49,108 - INFO - 问答耗时: 0.53秒
2025-04-25 16:41:05,884 - INFO - 开始人脸认证...
2025-04-25 16:41:05,886 - INFO - mpg123播放器已启动
2025-04-25 16:41:14,194 - INFO - 认证成功: wudawang
2025-04-25 16:41:50,066 - INFO - 开始人脸认证...
2025-04-25 16:41:50,067 - INFO - mpg123播放器已启动
2025-04-25 16:41:56,597 - INFO - 认证成功: wudawang
2025-04-25 16:42:02,389 - INFO - mpg123播放器已关闭
2025-04-25 16:42:02,389 - INFO - 正在初始化甘薯问答系统...
2025-04-25 16:42:04,826 - INFO - Use pytorch device_name: cuda
2025-04-25 16:42:04,826 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 16:42:06,046 - INFO - Loading faiss with AVX512 support.
2025-04-25 16:42:06,059 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 16:42:06,061 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 16:42:06,153 - INFO - 系统初始化完成
2025-04-25 16:42:06,154 - INFO - mpg123播放器已启动
2025-04-25 16:42:12,581 - INFO - 等待用户输入...
2025-04-25 16:42:19,532 - INFO - 用户问题: 甘肃的驻场特。
2025-04-25 16:42:19,532 - INFO - 正在处理问题...
2025-04-25 16:42:19,946 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 16:42:20,000 - INFO - 流式回答花费了 0.37 seconds
2025-04-25 16:42:20,001 - INFO - 完整响应 (0.47秒)：我不知道
2025-04-25 16:42:23,432 - INFO - 等待用户输入...
2025-04-25 16:42:30,447 - INFO - 用户问题: 甘肃人工厂的特性。
2025-04-25 16:42:30,448 - INFO - 正在处理问题...
2025-04-25 16:42:30,840 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 16:42:30,895 - INFO - 流式回答花费了 0.44 seconds
2025-04-25 16:42:30,895 - INFO - 完整响应 (0.45秒)：我不知道
2025-04-25 16:42:34,537 - INFO - 等待用户输入...
2025-04-25 16:42:41,161 - INFO - 用户问题: 唐李白。
2025-04-25 16:42:41,161 - INFO - 正在处理问题...
2025-04-25 16:42:41,618 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 16:42:41,675 - INFO - 流式回答花费了 0.49 seconds
2025-04-25 16:42:41,675 - INFO - 完整响应 (0.51秒)：我不知道
2025-04-25 16:42:45,106 - INFO - 等待用户输入...
2025-04-25 16:42:51,632 - INFO - 用户问题: 嗯。
2025-04-25 16:42:51,632 - INFO - 正在处理问题...
2025-04-25 16:42:51,634 - INFO - 收到退出信号
2025-04-25 16:42:52,081 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 16:42:53,776 - INFO - 流式回答花费了 2.13 seconds
2025-04-25 16:42:53,776 - INFO - 完整响应 (2.14秒)：我知道甘薯是从美洲传入中国的，大约在16世纪末。最初在中国福建、广东种植，后来逐渐传播到其他地区。
2025-04-25 16:42:56,544 - ERROR - 播放语音时出错: [Errno 32] 断开的管道
2025-04-25 16:42:57,546 - INFO - 正在关闭系统...
2025-04-25 16:42:57,546 - ERROR - 关闭mpg123时出错: [Errno 32] 断开的管道
2025-04-25 16:42:57,546 - ERROR - 关闭mpg123时出错: [Errno 32] 断开的管道
2025-04-25 16:42:57,552 - INFO - 所有资源已清理，系统已安全关闭
2025-04-25 16:44:45,134 - INFO - Use pytorch device_name: cuda
2025-04-25 16:44:45,134 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 16:44:45,943 - INFO - Loading faiss with AVX512 support.
2025-04-25 16:44:45,955 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 16:44:45,958 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 16:45:00,165 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 16:45:00,220 - INFO - 问答耗时: 0.35秒
2025-04-25 16:46:14,255 - INFO - Use pytorch device_name: cuda
2025-04-25 16:46:14,255 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 16:46:15,097 - INFO - Loading faiss with AVX512 support.
2025-04-25 16:46:15,109 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 16:46:15,111 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 16:46:29,831 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 16:46:34,031 - INFO - 问答耗时: 4.48秒
2025-04-25 16:47:28,771 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 16:47:50,844 - INFO - 开始人脸认证...
2025-04-25 16:47:50,845 - INFO - mpg123播放器已启动
2025-04-25 16:47:58,143 - INFO - 认证成功: wudawang
2025-04-25 16:48:03,302 - INFO - mpg123播放器已关闭
2025-04-25 16:48:03,303 - INFO - 正在初始化甘薯问答系统...
2025-04-25 16:48:05,844 - INFO - Use pytorch device_name: cuda
2025-04-25 16:48:05,844 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 16:48:06,805 - INFO - Loading faiss with AVX512 support.
2025-04-25 16:48:06,818 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 16:48:06,820 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 16:48:06,914 - INFO - 系统初始化完成
2025-04-25 16:48:06,915 - INFO - mpg123播放器已启动
2025-04-25 16:48:12,976 - INFO - 等待用户输入...
2025-04-25 16:48:19,997 - INFO - 用户问题: 背一首。
2025-04-25 16:48:19,998 - INFO - 正在处理问题...
2025-04-25 16:48:20,496 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 16:48:34,379 - INFO - 流式回答花费了 14.27 seconds
2025-04-25 16:48:34,379 - INFO - 完整响应 (14.38秒)：看来您是在要求背诵关于甘薯起源和传播的内容。以下是根据已知信息整理的背诵内容：

甘薯属旋花科，一年生或多年生草质蔓性藤本植物，又称白薯、甘薯、山芋、地瓜、番薯、红苔等，原产于美洲的中部或南美洲的西北部的热带地区。16世纪初，西班牙已普遍种植甘薯。西班牙水手把甘薯携带至菲律宾的马尼拉和摩鹿加岛，再传至亚洲各地。甘薯传入中国通过多条渠道，时间约在16世纪末叶，明代的《闽书》、《农政全书》、清代的《闽政全书》、《福州府志》等均有记载。清陈世元《金薯传习录》中援引《采录闽侯合志》：“按番薯种出海外吕宋。明万历年间，闽人陈振龙贸易其地，得藤苗及栽种之法入中国”。最初在福建、广东栽培，并向山东、浙江、河南等地逐渐传播开来。

希望这段内容对您有所帮助！如果您有其他问题或需要进一步的信息，请随时告诉我。
2025-04-25 16:49:37,343 - INFO - 等待用户输入...
2025-04-25 16:49:44,523 - INFO - 用户问题: 不错错错错错错错错错错。
2025-04-25 16:49:44,523 - INFO - 正在处理问题...
2025-04-25 16:49:44,812 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 16:49:47,618 - INFO - 流式回答花费了 3.08 seconds
2025-04-25 16:49:47,618 - INFO - 完整响应 (3.10秒)：看来您给出的内容似乎是一些对话片段，但“不错错错错错错错错错错”这句话不太清楚具体含义或背景。能否请您提供更多上下文信息或者具体说明一下您想表达的意思呢？这样我可以更好地帮助到您。
2025-04-25 16:50:04,165 - INFO - 等待用户输入...
2025-04-25 16:50:10,966 - INFO - 用户问题: 我们是从工作的一个。
2025-04-25 16:50:10,966 - INFO - 正在处理问题...
2025-04-25 16:50:11,384 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 16:50:12,949 - INFO - 流式回答花费了 1.97 seconds
2025-04-25 16:50:12,949 - INFO - 完整响应 (1.98秒)：看来您的话语被截断了，可以请您完整描述一下您的问题或需要了解的内容吗？这样我才能更好地帮助到您。
2025-04-25 16:50:23,673 - INFO - 收到退出信号
2025-04-25 16:50:24,674 - INFO - 正在关闭系统...
2025-04-25 16:50:25,175 - INFO - mpg123播放器已关闭
2025-04-25 16:50:25,185 - INFO - 所有资源已清理，系统已安全关闭
2025-04-25 17:49:48,882 - INFO - Use pytorch device_name: cuda
2025-04-25 17:49:48,882 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 17:49:50,225 - INFO - Loading faiss with AVX512 support.
2025-04-25 17:49:50,244 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 17:49:50,246 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 17:50:19,523 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main.py:50> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main.py", line 84, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main.py", line 75, in main
    await run_sweet_potato_system()
  File "/home/wuye/vscode/chatbox/main.py", line 47, in run_sweet_potato_system
    await tts.text_to_speech("11感谢使用甘薯知识助手，再见！")
  File "/home/wuye/vscode/chatbox/TTS/tts.py", line 92, in text_to_speech
    await self.speak(text)
  File "/home/wuye/vscode/chatbox/TTS/tts.py", line 74, in speak
    result = subprocess.run(["mpg123", output_file], capture_output=True, text=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/subprocess.py", line 550, in run
    stdout, stderr = process.communicate(input, timeout=timeout)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/subprocess.py", line 1209, in communicate
    stdout, stderr = self._communicate(input, endtime, timeout)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/subprocess.py", line 2113, in _communicate
    ready = selector.select(timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/selectors.py", line 415, in select
    fd_event_list = self._selector.poll(timeout)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyboardInterrupt
2025-04-25 17:50:28,549 - ERROR - 语音播放失败：[Errno 2] No such file or directory: 'temp_audio_126854027139152.mp3'
2025-04-25 17:50:53,877 - INFO - Use pytorch device_name: cuda
2025-04-25 17:50:53,877 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 17:50:54,697 - INFO - Loading faiss with AVX512 support.
2025-04-25 17:50:54,709 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 17:50:54,712 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 17:51:13,437 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 17:51:16,926 - INFO - 问答耗时: 5.82秒
2025-04-25 17:51:58,012 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 17:52:08,834 - INFO - 问答耗时: 11.14秒
2025-04-25 17:54:03,964 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 17:54:07,056 - INFO - 问答耗时: 3.41秒
2025-04-25 17:54:44,121 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 17:54:51,999 - ERROR - 语音播放失败：[Errno 2] 没有那个文件或目录: 'temp_audio_133258695226832.mp3'
2025-04-25 17:55:03,174 - INFO - 开始人脸认证...
2025-04-25 17:55:03,175 - INFO - mpg123播放器已启动
2025-04-25 17:55:10,195 - INFO - 认证成功: wudawang
2025-04-25 17:55:16,752 - INFO - mpg123播放器已关闭
2025-04-25 17:55:16,753 - INFO - 正在初始化甘薯问答系统...
2025-04-25 17:55:19,299 - INFO - Use pytorch device_name: cuda
2025-04-25 17:55:19,299 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 17:55:20,082 - INFO - Loading faiss with AVX512 support.
2025-04-25 17:55:20,094 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 17:55:20,097 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 17:55:20,199 - INFO - 系统初始化完成
2025-04-25 17:55:20,200 - INFO - mpg123播放器已启动
2025-04-25 17:55:27,517 - INFO - 等待用户输入...
2025-04-25 17:55:34,699 - INFO - 用户问题: 背一首李白的诗。
2025-04-25 17:55:34,699 - INFO - 正在处理问题...
2025-04-25 17:55:35,259 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 17:55:39,007 - INFO - 流式回答花费了 4.19 seconds
2025-04-25 17:55:39,007 - INFO - 完整响应 (4.31秒)：当然可以，下面是一首李白的《静夜思》：

```
床前明月光，
疑是地上霜。
举头望明月，
低头思故乡。
``` 

这首诗表达了诗人对家乡的深深思念之情。希望你喜欢！如果你有其他想要背诵的李白诗歌或者其他问题，欢迎告诉我。
2025-04-25 17:55:56,731 - INFO - 等待用户输入...
2025-04-25 17:56:03,974 - INFO - 用户问题: 问你还是问或者她问题那你告诉我。
2025-04-25 17:56:03,974 - INFO - 正在处理问题...
2025-04-25 17:56:04,334 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 17:56:11,629 - INFO - 流式回答花费了 7.62 seconds
2025-04-25 17:56:11,629 - INFO - 完整响应 (7.65秒)：看起来您是在询问关于“物价卓”的对话内容以及甘薯的贮藏特性的问题。根据您提供的信息，第一个问题是关于“物价卓”是否回了话，回答是“物价卓那时镇回了。”这可能是一个虚拟人物或角色在某个情境中的对话。

第二个问题则是关于甘薯的贮藏特性的详细介绍，包括甘薯的各种别名、生产国以及主要种植地区等信息。

至于您最后的问题：“问你还是问或者她问题那你告诉我”，如果您的意思是想确认是我在回答您的问题，请明确指出具体的问题。我会尽力帮助解答有关甘薯或其他相关问题的信息。
2025-04-25 17:56:50,005 - INFO - 等待用户输入...
2025-04-25 17:56:57,535 - INFO - 用户问题: 我们建议关注求答案有关关关关系。
2025-04-25 17:56:57,535 - INFO - 正在处理问题...
2025-04-25 17:56:57,873 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 17:57:00,262 - INFO - 收到退出信号
2025-04-25 17:57:02,243 - ERROR - 播放语音时出错: [Errno 32] 断开的管道
2025-04-25 17:57:05,105 - INFO - mpg123播放器已启动
2025-04-25 17:57:07,190 - INFO - 流式回答花费了 9.63 seconds
2025-04-25 17:57:07,190 - INFO - 完整响应 (9.66秒)：从您提供的信息来看，似乎存在一些混淆或错误的地方。首先，“物价卓”和“物价卓那时镇回了”看起来并不是与吴佳卓相关的信息。“吴佳卓”的高考成绩描述中出现了不合理的分数（如数学250, 英语1000, 物理3000, 化学40000, 生物30），这些分数明显不符合实际的高考评分标准。

另外，您提到“建议关注求答案有关关关关系”，这句话可能需要进一步澄清。如果您是指希望了解与吴佳卓相关的更多信息，请提供更具体的问题或主题，比如他的学习经历、成就等，这样我可以更好地帮助您获取相关信息。如果您的意思是想确认信息的准确性或者有其他问题，请明确指出。
2025-04-25 17:57:11,477 - INFO - 收到退出信号
2025-04-25 17:57:11,477 - INFO - 收到退出信号
2025-04-25 17:57:11,477 - INFO - 收到退出信号
2025-04-25 17:57:11,481 - INFO - 收到退出信号
2025-04-25 17:57:13,866 - INFO - mpg123播放器已启动
2025-04-25 17:57:39,303 - INFO - 正在关闭系统...
2025-04-25 17:57:39,805 - INFO - mpg123播放器已关闭
2025-04-25 17:57:39,811 - INFO - 所有资源已清理，系统已安全关闭
2025-04-25 17:59:33,570 - INFO - Use pytorch device_name: cuda
2025-04-25 17:59:33,570 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 17:59:34,372 - INFO - Loading faiss with AVX512 support.
2025-04-25 17:59:34,385 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 17:59:34,387 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 17:59:53,834 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 18:00:01,967 - INFO - 问答耗时: 8.56秒
2025-04-25 18:01:35,587 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 18:01:46,460 - INFO - 问答耗时: 11.19秒
2025-04-25 18:04:35,316 - INFO - Use pytorch device_name: cuda
2025-04-25 18:04:35,316 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 18:04:36,583 - INFO - Loading faiss with AVX512 support.
2025-04-25 18:04:36,596 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 18:04:36,599 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 18:04:55,923 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 18:05:07,624 - INFO - 问答耗时: 11.78秒
2025-04-25 18:06:35,656 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 18:06:48,938 - INFO - 问答耗时: 13.70秒
2025-04-25 18:08:18,014 - INFO - Use pytorch device_name: cuda
2025-04-25 18:08:18,014 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 18:08:18,828 - INFO - Loading faiss with AVX512 support.
2025-04-25 18:08:18,841 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 18:08:18,844 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 18:08:38,426 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 18:08:46,040 - INFO - 问答耗时: 7.95秒
2025-04-25 20:23:31,682 - INFO - Use pytorch device_name: cuda
2025-04-25 20:23:31,683 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 20:23:32,492 - INFO - Loading faiss with AVX512 support.
2025-04-25 20:23:32,504 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 20:23:32,507 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 20:23:51,154 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 20:23:56,072 - INFO - 问答耗时: 6.67秒
2025-04-25 20:24:14,252 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 20:24:17,273 - INFO - 问答耗时: 3.48秒
2025-04-25 20:24:40,146 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 20:24:45,528 - INFO - 问答耗时: 5.76秒
2025-04-25 20:25:41,875 - INFO - Use pytorch device_name: cuda
2025-04-25 20:25:41,875 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 20:25:42,795 - INFO - Loading faiss with AVX512 support.
2025-04-25 20:25:42,816 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 20:25:42,818 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 20:26:54,167 - INFO - Use pytorch device_name: cuda
2025-04-25 20:26:54,167 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 20:26:55,040 - INFO - Loading faiss with AVX512 support.
2025-04-25 20:26:55,054 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 20:26:55,056 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 20:27:12,340 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 20:27:16,456 - INFO - 问答耗时: 4.58秒
2025-04-25 20:27:33,899 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 20:27:37,802 - INFO - 问答耗时: 4.36秒
2025-04-25 20:54:10,798 - INFO - VAD已初始化，使用双重检测模式
2025-04-25 20:54:10,927 - INFO - 开始查找音频输入设备...
2025-04-25 20:54:10,934 - INFO - 设备 [4] sof-hda-dsp: - (hw:1,0) 支持的采样率: [48000]
2025-04-25 20:54:10,940 - INFO - 设备 [8] sof-hda-dsp: - (hw:1,6) 支持的采样率: [48000]
2025-04-25 20:54:10,945 - INFO - 设备 [9] sof-hda-dsp: - (hw:1,7) 支持的采样率: [16000]
2025-04-25 20:54:10,989 - INFO - 设备 [12] pulse 支持的采样率: [8000, 11025, 16000, 22050, 44100, 48000]
2025-04-25 20:54:11,027 - INFO - 设备 [13] default 支持的采样率: [8000, 11025, 16000, 22050, 44100, 48000]
2025-04-25 20:54:11,027 - INFO - 找到 5 个音频输入设备:
2025-04-25 20:54:11,027 - INFO -   [4] sof-hda-dsp: - (hw:1,0) - 支持的采样率: [48000]
2025-04-25 20:54:11,027 - INFO -   [8] sof-hda-dsp: - (hw:1,6) - 支持的采样率: [48000]
2025-04-25 20:54:11,027 - INFO -   [9] sof-hda-dsp: - (hw:1,7) - 支持的采样率: [16000]
2025-04-25 20:54:11,027 - INFO -   [12] pulse - 支持的采样率: [8000, 11025, 16000, 22050, 44100, 48000]
2025-04-25 20:54:11,027 - INFO -   [13] default - 支持的采样率: [8000, 11025, 16000, 22050, 44100, 48000]
2025-04-25 20:54:11,027 - INFO - 选择 pulse 音频设备: [12] pulse
2025-04-25 20:54:11,027 - INFO - 已调整VAD帧大小: 采样率 16000Hz, 帧大小 320 字节 (约20ms)
2025-04-25 20:54:11,027 - ERROR - 更新VAD帧大小时出错: 'Vad' object has no attribute 'get_mode'
2025-04-25 20:54:11,027 - INFO - 已选择输入设备: [12] pulse 采样率: 16000Hz
2025-04-25 20:54:36,506 - INFO - Use pytorch device_name: cuda
2025-04-25 20:54:36,506 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-25 20:54:37,909 - INFO - Loading faiss with AVX512 support.
2025-04-25 20:54:37,928 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-25 20:54:37,931 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-25 20:54:37,945 - INFO - VAD已初始化，使用双重检测模式
2025-04-25 20:54:37,945 - INFO - 开始查找音频输入设备...
2025-04-25 20:54:37,993 - INFO - 设备 [4] sof-hda-dsp: - (hw:1,0) 支持的采样率: [48000]
2025-04-25 20:54:44,139 - WARNING - 设备 [8] sof-hda-dsp: - (hw:1,6) 可能不支持任何标准采样率
2025-04-25 20:54:44,145 - INFO - 设备 [9] sof-hda-dsp: - (hw:1,7) 支持的采样率: [16000]
2025-04-25 20:54:44,192 - INFO - 设备 [12] pulse 支持的采样率: [8000, 11025, 16000, 22050, 44100, 48000]
2025-04-25 20:54:44,229 - INFO - 设备 [13] default 支持的采样率: [8000, 11025, 16000, 22050, 44100, 48000]
2025-04-25 20:54:44,230 - INFO - 找到 5 个音频输入设备:
2025-04-25 20:54:44,230 - INFO -   [4] sof-hda-dsp: - (hw:1,0) - 支持的采样率: [48000]
2025-04-25 20:54:44,230 - INFO -   [8] sof-hda-dsp: - (hw:1,6) - 支持的采样率: []
2025-04-25 20:54:44,230 - INFO -   [9] sof-hda-dsp: - (hw:1,7) - 支持的采样率: [16000]
2025-04-25 20:54:44,230 - INFO -   [12] pulse - 支持的采样率: [8000, 11025, 16000, 22050, 44100, 48000]
2025-04-25 20:54:44,230 - INFO -   [13] default - 支持的采样率: [8000, 11025, 16000, 22050, 44100, 48000]
2025-04-25 20:54:44,230 - INFO - 选择 pulse 音频设备: [12] pulse
2025-04-25 20:54:44,230 - INFO - 已调整VAD帧大小: 采样率 16000Hz, 帧大小 320 字节 (约20ms)
2025-04-25 20:54:44,230 - ERROR - 更新VAD帧大小时出错: 'Vad' object has no attribute 'get_mode'
2025-04-25 20:54:44,230 - INFO - 已选择输入设备: [12] pulse 采样率: 16000Hz
2025-04-25 20:54:53,837 - INFO - 尝试以采样率 16000Hz 打开输入流...
2025-04-25 20:54:53,866 - INFO - 成功打开输入流，使用采样率: 16000Hz
2025-04-25 20:54:53,901 - INFO - 成功读取测试音频数据，长度: 640 字节
2025-04-25 20:54:53,901 - INFO - 已调整VAD帧大小: 采样率 16000Hz, 帧大小 320 字节 (约20ms)
2025-04-25 20:54:53,901 - ERROR - 更新VAD帧大小时出错: 'Vad' object has no attribute 'get_mode'
2025-04-25 20:54:53,901 - INFO - 测试麦克风音量级别...
2025-04-25 20:54:54,092 - INFO - 麦克风音量: 4734.16 RMS (-16.80 dB)
2025-04-25 20:54:54,092 - INFO - 麦克风音量正常。
2025-04-25 20:54:54,092 - INFO - 测试VAD语音检测功能...
2025-04-25 20:54:54,694 - INFO - 语音检测测试: 检测到 30/30 帧包含语音 (100.00%)
2025-04-25 20:54:54,694 - WARNING - 检测到大量背景噪音，这可能导致误触发。考虑使用降噪麦克风或在安静环境中使用。
2025-04-25 20:55:03,222 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-25 20:55:08,085 - INFO - 问答耗时: 6.56秒
2025-04-25 20:55:08,085 - INFO - --------------------------------------------------
2025-04-25 20:55:08,085 - INFO - 开始播放: 这句话似乎是一段对话中的某一方重复了自己之前说的话,表达了一种无奈或失望的情绪,从你提供的信息来看,没有直接的相关内容可以对应,但可以根据上下文推测,可能是某人在等待某个结果或回应,而当对方终于回应时...
2025-04-25 20:55:08,086 - INFO - --------------------------------------------------
2025-04-25 20:55:08,086 - INFO - 分析背景噪音...
2025-04-25 20:55:08,086 - INFO - 环境噪音较大 (100.00%)，已调整至低灵敏度
2025-04-25 20:55:12,886 - INFO - 音频文件已保存: temp_audio_1745585708_131827890391696.mp3
2025-04-25 20:55:12,887 - INFO - 开始监听中断...
2025-04-25 20:55:12,889 - INFO - 检测到用户语音，准备中断... (连续帧数: 1, 语音比例: 1.00)
2025-04-25 20:55:12,889 - INFO - 停止监听中断
2025-04-25 20:55:13,090 - INFO - 音频播放已停止
2025-04-25 20:55:13,091 - INFO - 语音输出已被用户中断
2025-04-25 20:55:13,091 - INFO - 处理中断...
2025-04-25 20:55:17,449 - INFO - 请问您有什么需要？
2025-04-25 20:55:17,953 - INFO - 请说话...
2025-04-25 20:55:17,966 - INFO - 检测到语音输入...
2025-04-25 20:55:19,492 - INFO - 临时音频文件已删除: temp_audio_1745585708_131827890391696.mp3
2025-04-25 20:55:19,493 - INFO - 输入流已关闭
2025-04-25 20:55:19,494 - INFO - 已清理所有音频资源
2025-04-25 20:55:25,432 - INFO - 已清理所有音频资源
2025-04-26 14:39:41,390 - INFO - VAD已初始化，使用双重检测模式
2025-04-26 14:39:41,518 - INFO - 开始查找音频输入设备...
2025-04-26 14:39:41,526 - INFO - 设备 [4] sof-hda-dsp: - (hw:1,0) 支持的采样率: [48000]
2025-04-26 14:39:41,532 - INFO - 设备 [8] sof-hda-dsp: - (hw:1,6) 支持的采样率: [48000]
2025-04-26 14:39:41,537 - INFO - 设备 [9] sof-hda-dsp: - (hw:1,7) 支持的采样率: [16000]
2025-04-26 14:39:41,576 - INFO - 设备 [12] pulse 支持的采样率: [8000, 11025, 16000, 22050, 44100, 48000]
2025-04-26 14:39:41,608 - INFO - 设备 [13] default 支持的采样率: [8000, 11025, 16000, 22050, 44100, 48000]
2025-04-26 14:39:41,608 - INFO - 找到 5 个音频输入设备:
2025-04-26 14:39:41,608 - INFO -   [4] sof-hda-dsp: - (hw:1,0) - 支持的采样率: [48000]
2025-04-26 14:39:41,608 - INFO -   [8] sof-hda-dsp: - (hw:1,6) - 支持的采样率: [48000]
2025-04-26 14:39:41,608 - INFO -   [9] sof-hda-dsp: - (hw:1,7) - 支持的采样率: [16000]
2025-04-26 14:39:41,608 - INFO -   [12] pulse - 支持的采样率: [8000, 11025, 16000, 22050, 44100, 48000]
2025-04-26 14:39:41,608 - INFO -   [13] default - 支持的采样率: [8000, 11025, 16000, 22050, 44100, 48000]
2025-04-26 14:39:41,608 - INFO - 选择 pulse 音频设备: [12] pulse
2025-04-26 14:39:41,609 - INFO - 已调整VAD帧大小: 采样率 16000Hz, 帧大小 320 字节 (约20ms)
2025-04-26 14:39:41,609 - INFO - 已重新初始化主VAD，灵敏度: 3
2025-04-26 14:39:41,609 - INFO - 已重新初始化敏感VAD
2025-04-26 14:39:41,609 - INFO - 已选择输入设备: [12] pulse 采样率: 16000Hz
2025-04-26 14:40:04,483 - INFO - Use pytorch device_name: cuda
2025-04-26 14:40:04,483 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 14:40:30,462 - INFO - 已清理所有音频资源
2025-04-26 14:40:30,733 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main/main_interupt.py:97> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main/main_interupt.py", line 145, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 360, in __wakeup
    self.__step()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main/main_interupt.py", line 130, in main
    await run_sweet_potato_system()
  File "/home/wuye/vscode/chatbox/main/main_interupt.py", line 24, in run_sweet_potato_system
    qa = KnowledgeQA()
         ^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 38, in __init__
    self.embedding_model = self._init_embeddings()
                           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 46, in _init_embeddings
    return HuggingFaceEmbeddings(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/langchain_huggingface/embeddings/huggingface.py", line 59, in __init__
    self._client = sentence_transformers.SentenceTransformer(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 309, in __init__
    modules, self.module_kwargs = self._load_sbert_model(
                                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 1702, in _load_sbert_model
    self.model_card_data.set_base_model(model_name_or_path, revision=revision)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/model_card.py", line 757, in set_base_model
    model_info = get_model_info(model_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/hf_api.py", line 2591, in model_info
    r = get_session().get(path, headers=headers, timeout=timeout, params=params)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_http.py", line 96, in send
    return super().send(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
KeyboardInterrupt
2025-04-26 14:52:02,501 - INFO - VAD已初始化，使用双重检测模式
2025-04-26 14:52:02,628 - INFO - 开始查找音频输入设备...
2025-04-26 14:52:02,636 - INFO - 设备 [4] sof-hda-dsp: - (hw:1,0) 支持的采样率: [48000]
2025-04-26 14:52:02,642 - INFO - 设备 [8] sof-hda-dsp: - (hw:1,6) 支持的采样率: [48000]
2025-04-26 14:52:02,648 - INFO - 设备 [9] sof-hda-dsp: - (hw:1,7) 支持的采样率: [16000]
2025-04-26 14:52:02,694 - INFO - 设备 [12] pulse 支持的采样率: [8000, 11025, 16000, 22050, 44100, 48000]
2025-04-26 14:52:02,728 - INFO - 设备 [13] default 支持的采样率: [8000, 11025, 16000, 22050, 44100, 48000]
2025-04-26 14:52:02,728 - INFO - 找到 5 个音频输入设备
2025-04-26 14:52:02,728 - INFO - 选择pulse音频设备: [12] pulse
2025-04-26 14:52:02,728 - INFO - 已调整VAD帧大小: 采样率 16000Hz, 帧大小 320 字节
2025-04-26 14:52:02,728 - INFO - 已选择输入设备: [12] pulse 采样率: 16000Hz
2025-04-26 14:52:27,475 - INFO - Use pytorch device_name: cuda
2025-04-26 14:52:27,475 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 14:52:27,876 - INFO - Loading faiss with AVX512 support.
2025-04-26 14:52:27,895 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 14:52:27,898 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 14:52:27,910 - INFO - VAD已初始化，使用双重检测模式
2025-04-26 14:52:27,910 - INFO - 开始查找音频输入设备...
2025-04-26 14:52:27,955 - INFO - 设备 [4] sof-hda-dsp: - (hw:1,0) 支持的采样率: [48000]
2025-04-26 14:52:34,117 - WARNING - 设备 [8] sof-hda-dsp: - (hw:1,6) 可能不支持任何标准采样率
2025-04-26 14:52:34,123 - INFO - 设备 [9] sof-hda-dsp: - (hw:1,7) 支持的采样率: [16000]
2025-04-26 14:52:34,158 - INFO - 设备 [12] pulse 支持的采样率: [8000, 11025, 16000, 22050, 44100, 48000]
2025-04-26 14:52:34,191 - INFO - 设备 [13] default 支持的采样率: [8000, 11025, 16000, 22050, 44100, 48000]
2025-04-26 14:52:34,191 - INFO - 找到 5 个音频输入设备
2025-04-26 14:52:34,191 - INFO - 选择pulse音频设备: [12] pulse
2025-04-26 14:52:34,191 - INFO - 已调整VAD帧大小: 采样率 16000Hz, 帧大小 320 字节
2025-04-26 14:52:34,191 - INFO - 已选择输入设备: [12] pulse 采样率: 16000Hz
2025-04-26 14:53:01,055 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 14:53:09,249 - INFO - 问答耗时: 11.35秒
2025-04-26 14:53:09,249 - INFO - --------------------------------------------------
2025-04-26 14:53:09,257 - INFO - 开始播放: 根据已知内容,甘薯（红薯）的贮藏特性可以从以下几个方面来总结,1, ,,品种差异,,,不同品种的甘薯耐贮性有所不同,通常来说,紫薯比普通红薯更耐贮藏,2, ,,形态和结构特点,,,   - 体积小,形...
2025-04-26 14:53:09,257 - INFO - --------------------------------------------------
2025-04-26 14:53:10,258 - INFO - 尝试以采样率 16000Hz 打开输入流...
2025-04-26 14:53:10,270 - INFO - 成功打开输入流，使用采样率: 16000Hz
2025-04-26 14:53:10,296 - INFO - 成功读取测试音频数据，长度: 640 字节
2025-04-26 14:53:10,296 - INFO - 已调整VAD帧大小: 采样率 16000Hz, 帧大小 320 字节
2025-04-26 14:53:10,296 - INFO - 分析背景噪音...
2025-04-26 14:53:11,280 - INFO - 非常嘈杂的环境 (100.00%)，调整为最低敏感度
2025-04-26 14:53:11,281 - INFO - 校准音频级别...
2025-04-26 14:53:13,289 - INFO - 音频校准完成。阈值设置为: 5000.00
2025-04-26 14:53:17,269 - INFO - 音频文件已保存: temp_audio_1745650393_135283678213712.mp3
2025-04-26 14:53:17,270 - INFO - 开始监听中断...
2025-04-26 14:53:17,271 - INFO - 检测到用户语音，准备中断... (连续帧数: 1, 语音比例: 1.00)
2025-04-26 14:53:17,271 - INFO - 停止监听中断
2025-04-26 14:53:17,473 - INFO - 音频播放已停止
2025-04-26 14:53:17,473 - INFO - 语音输出已被用户中断
2025-04-26 14:53:17,473 - INFO - 处理中断...
2025-04-26 14:53:21,022 - INFO - 请问您有什么需要？
2025-04-26 14:53:21,528 - INFO - 请说话...
2025-04-26 14:53:21,540 - INFO - 检测到语音输入...
2025-04-26 14:53:23,118 - INFO - 临时音频文件已删除: temp_audio_1745650393_135283678213712.mp3
2025-04-26 14:53:23,119 - INFO - 输入流已关闭
2025-04-26 14:53:23,120 - INFO - 已清理所有音频资源
2025-04-26 14:53:28,294 - INFO - 已清理所有音频资源
2025-04-26 14:58:17,798 - INFO - VAD已初始化，使用高灵敏度模式
2025-04-26 14:58:17,964 - INFO - 成功打开输入流，使用采样率: 16000Hz
2025-04-26 14:58:43,533 - INFO - Use pytorch device_name: cuda
2025-04-26 14:58:43,533 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 14:59:09,956 - INFO - 输入流已关闭
2025-04-26 14:59:09,956 - INFO - 已清理所有音频资源
2025-04-26 14:59:10,238 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main/main_interupt.py:96> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main/main_interupt.py", line 140, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 360, in __wakeup
    self.__step()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main/main_interupt.py", line 126, in main
    await run_sweet_potato_system()
  File "/home/wuye/vscode/chatbox/main/main_interupt.py", line 23, in run_sweet_potato_system
    qa = KnowledgeQA()
         ^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 38, in __init__
    self.embedding_model = self._init_embeddings()
                           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 46, in _init_embeddings
    return HuggingFaceEmbeddings(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/langchain_huggingface/embeddings/huggingface.py", line 59, in __init__
    self._client = sentence_transformers.SentenceTransformer(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 309, in __init__
    modules, self.module_kwargs = self._load_sbert_model(
                                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 1702, in _load_sbert_model
    self.model_card_data.set_base_model(model_name_or_path, revision=revision)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/model_card.py", line 757, in set_base_model
    model_info = get_model_info(model_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/hf_api.py", line 2591, in model_info
    r = get_session().get(path, headers=headers, timeout=timeout, params=params)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_http.py", line 96, in send
    return super().send(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
KeyboardInterrupt
2025-04-26 14:59:33,430 - INFO - VAD已初始化，使用高灵敏度模式
2025-04-26 14:59:33,577 - INFO - 成功打开输入流，使用采样率: 16000Hz
2025-04-26 14:59:58,744 - INFO - Use pytorch device_name: cuda
2025-04-26 14:59:58,744 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 14:59:59,137 - INFO - Loading faiss with AVX512 support.
2025-04-26 14:59:59,150 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 14:59:59,153 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 14:59:59,165 - INFO - VAD已初始化，使用高灵敏度模式
2025-04-26 14:59:59,176 - INFO - 成功打开输入流，使用采样率: 16000Hz
2025-04-26 15:00:13,473 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:00:25,300 - INFO - 问答耗时: 13.45秒
2025-04-26 15:00:25,300 - INFO - --------------------------------------------------
2025-04-26 15:00:25,300 - INFO - 开始播放: 甘薯（又称番薯,红薯,地瓜,红苕,白薯）的贮藏特性主要受到品种的影响,不同品种之间存在较大的差异,1, ,,品种及耐贮性,,,紫薯比普通红薯更耐贮藏,而大叶红,烟薯25,济薯26等体积较小,形状为纺锤...
2025-04-26 15:00:25,300 - INFO - --------------------------------------------------
2025-04-26 15:00:33,624 - INFO - 音频文件已保存: temp_audio_1745650825_137186561488784.mp3
2025-04-26 15:00:33,625 - INFO - 开始监听中断...
2025-04-26 15:00:33,626 - INFO - 检测到用户语音，准备中断... (连续帧数: 3)
2025-04-26 15:00:33,626 - INFO - 停止监听中断
2025-04-26 15:00:33,828 - INFO - 音频播放已停止
2025-04-26 15:00:33,828 - INFO - 语音输出已被用户中断
2025-04-26 15:00:33,828 - INFO - 处理中断...
2025-04-26 15:00:37,686 - INFO - 请问您有什么需要？
2025-04-26 15:00:37,686 - INFO - 请说话...
2025-04-26 15:00:37,686 - INFO - 检测到语音输入...
2025-04-26 15:00:44,698 - INFO - 达到最大录音时间
2025-04-26 15:00:44,700 - INFO - 上传 1454720 字节到百度API
2025-04-26 15:00:46,737 - INFO - 用户说: 甘薯的贮藏特性，嗯，对吧为什么这个那个暂停。
2025-04-26 15:00:46,746 - INFO - 临时音频文件已删除: temp_audio_1745650825_137186561488784.mp3
2025-04-26 15:00:47,048 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:00:57,251 - INFO - 问答耗时: 10.49秒
2025-04-26 15:00:57,251 - INFO - --------------------------------------------------
2025-04-26 15:00:57,251 - INFO - 开始播放: 看来你在描述甘薯的贮藏特性时遇到了一些中断或停顿的情况,让我们来整理一下相关信息,1, ,,品种及耐贮性,,,   - 不同品种的甘薯耐贮性差异较大,   - 紫薯比红薯更耐贮藏,   - 大叶红,烟...
2025-04-26 15:00:57,251 - INFO - --------------------------------------------------
2025-04-26 15:01:01,143 - INFO - 音频文件已保存: temp_audio_1745650857_137186561488784.mp3
2025-04-26 15:01:01,144 - INFO - 开始监听中断...
2025-04-26 15:01:01,145 - INFO - 检测到用户语音，准备中断... (连续帧数: 3)
2025-04-26 15:01:01,145 - INFO - 停止监听中断
2025-04-26 15:01:01,347 - INFO - 音频播放已停止
2025-04-26 15:01:01,347 - INFO - 语音输出已被用户中断
2025-04-26 15:01:01,347 - INFO - 处理中断...
2025-04-26 15:01:04,249 - INFO - 临时音频文件已删除: temp_audio_1745650857_137186561488784.mp3
2025-04-26 15:01:04,257 - INFO - 输入流已关闭
2025-04-26 15:01:04,257 - INFO - 已清理所有音频资源
2025-04-26 15:01:09,308 - INFO - 输入流已关闭
2025-04-26 15:01:09,313 - INFO - 已清理所有音频资源
2025-04-26 15:02:45,483 - INFO - 开始人脸认证...
2025-04-26 15:02:45,484 - INFO - mpg123播放器已启动
2025-04-26 15:02:52,225 - INFO - 认证成功: wudawang
2025-04-26 15:02:56,733 - INFO - mpg123播放器已关闭
2025-04-26 15:02:56,734 - INFO - 正在初始化甘薯问答系统...
2025-04-26 15:02:59,163 - INFO - Use pytorch device_name: cuda
2025-04-26 15:02:59,163 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 15:03:32,740 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main/main_stream.py:254> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main/main_stream.py", line 271, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 360, in __wakeup
    self.__step()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main/main_stream.py", line 268, in main
    await chatbox.run()
  File "/home/wuye/vscode/chatbox/main/main_stream.py", line 200, in run
    if not await self.initialize():
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main/main_stream.py", line 71, in initialize
    self.qa = KnowledgeQA(llm_model=self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 38, in __init__
    self.embedding_model = self._init_embeddings()
                           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 46, in _init_embeddings
    return HuggingFaceEmbeddings(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/langchain_huggingface/embeddings/huggingface.py", line 59, in __init__
    self._client = sentence_transformers.SentenceTransformer(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 309, in __init__
    modules, self.module_kwargs = self._load_sbert_model(
                                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 1702, in _load_sbert_model
    self.model_card_data.set_base_model(model_name_or_path, revision=revision)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/model_card.py", line 757, in set_base_model
    model_info = get_model_info(model_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/hf_api.py", line 2591, in model_info
    r = get_session().get(path, headers=headers, timeout=timeout, params=params)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_http.py", line 96, in send
    return super().send(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
KeyboardInterrupt
2025-04-26 15:03:48,474 - INFO - 开始人脸认证...
2025-04-26 15:03:48,475 - INFO - mpg123播放器已启动
2025-04-26 15:03:56,082 - INFO - 认证成功: wudawang
2025-04-26 15:04:00,240 - INFO - mpg123播放器已关闭
2025-04-26 15:04:00,241 - INFO - 正在初始化甘薯问答系统...
2025-04-26 15:04:02,659 - INFO - Use pytorch device_name: cuda
2025-04-26 15:04:02,659 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 15:04:03,015 - INFO - Loading faiss with AVX512 support.
2025-04-26 15:04:03,028 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 15:04:03,031 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 15:04:03,126 - INFO - 系统初始化完成
2025-04-26 15:04:03,127 - INFO - mpg123播放器已启动
2025-04-26 15:04:08,290 - INFO - 等待用户输入...
2025-04-26 15:04:15,020 - INFO - 用户问题: 甘薯的贮藏特。
2025-04-26 15:04:15,020 - INFO - 正在处理问题...
2025-04-26 15:04:15,391 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:04:23,751 - INFO - 流式回答花费了 8.61 seconds
2025-04-26 15:04:23,751 - INFO - 完整响应 (8.73秒)：根据已知内容，甘薯（又称番薯、红薯、地瓜、红苕、白薯）的贮藏特性主要包括以下几个方面：

1. **品种差异**：不同品种的甘薯耐贮性存在较大差异。例如，紫薯通常比普通红薯更耐贮藏。

2. **形态特征与糖含量的影响**：
   - 表皮薄、体积小且呈纺锤形的甘薯（如大叶红、烟薯25等）耐贮性较差。
   - 糖分含量高的甘薯（如上述品种）也不太耐贮藏。
   - 相对而言，表皮较厚、糖分较低、体积较大且呈现球形的甘薯（如北京553、红香蕉等）具有较好的耐贮性。

在实际贮藏过程中，需要根据这些特点来选择适宜的品种，并采取相应的管理措施以确保甘薯的质量和延长其保鲜期。
2025-04-26 15:05:17,834 - INFO - 等待用户输入...
2025-04-26 15:05:25,690 - INFO - 用户问题: 可以做，实际上做数据的，我们就很重要相亲。
2025-04-26 15:05:25,690 - INFO - 正在处理问题...
2025-04-26 15:05:25,940 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:05:29,487 - INFO - 流式回答花费了 3.77 seconds
2025-04-26 15:05:29,487 - INFO - 完整响应 (3.80秒)：这句话似乎有些混乱和不连贯，可能是在表达某种意思时出现了错误或混淆。能否请您提供更多的背景信息或者重新表述一下您的问题？这样我才能更准确地理解并帮助您解答。根据您提供的信息，“可以做，实际上做数据的，我们就很重要相亲”这部分内容不太清晰，不知道您是想询问关于数据处理工作的重要性、还是其他方面的内容。
2025-04-26 15:05:55,550 - INFO - 等待用户输入...
2025-04-26 15:06:03,526 - INFO - 用户问题: 对这个问题，我们1111111111111111。
2025-04-26 15:06:03,527 - INFO - 正在处理问题...
2025-04-26 15:06:03,804 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:06:09,625 - INFO - 流式回答花费了 6.08 seconds
2025-04-26 15:06:09,625 - INFO - 完整响应 (6.10秒)：看来您提供的信息中包含了一些不寻常的数据和表述方式。根据给出的内容，“物价卓那时镇回了”可能是一个地方方言或特定情境下的表达，而关于吴佳卓的高考成绩部分则包含了异常高的分数，这显然不符合实际的考试评分规则。

对于“1111111111111111”，这部分信息似乎没有直接相关性。如果您有具体的问题或者想要了解的信息，请提供更多的背景或明确您的问题，我会尽力帮助您。例如，如果这是想表达对上述内容的看法或是提问关于吴佳卓的情况，可以重新表述一下，这样我可以更好地理解并给出合适的回答。
2025-04-26 15:06:56,444 - INFO - 等待用户输入...
2025-04-26 15:07:02,982 - INFO - 用户问题: 如何？
2025-04-26 15:07:02,982 - INFO - 正在处理问题...
2025-04-26 15:07:02,983 - INFO - 收到退出信号
2025-04-26 15:07:03,209 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:07:06,617 - ERROR - 播放语音时出错: [Errno 32] 断开的管道
2025-04-26 15:07:07,697 - INFO - 流式回答花费了 4.68 seconds
2025-04-26 15:07:07,697 - INFO - 完整响应 (4.71秒)：从给出的内容来看，“物价卓”似乎是一位名叫吴博士的人。他在浙江大学获得了博士学位，并且以“额擦学”（可能是指博弈论或相关的经济理论）见长，被尊称为“圣人”。不过，这段对话看起来更像是某种虚构情境或者幽默表达，因为现实中的学术领域和称呼通常不会这样命名。

如果这是某个特定故事、梗或者是某种创意写作的一部分，那么“物价卓”的形象就被赋予了特殊的含义。如果有更具体的问题或需要进一步的信息，请告诉我！
2025-04-26 15:07:08,390 - INFO - mpg123播放器已启动
2025-04-26 15:07:17,555 - INFO - 收到退出信号
2025-04-26 15:07:19,719 - INFO - mpg123播放器已启动
2025-04-26 15:07:22,020 - ERROR - 播放语音时出错: [Errno 32] 断开的管道
2025-04-26 15:07:22,026 - INFO - 收到退出信号
2025-04-26 15:07:22,328 - INFO - 收到退出信号
2025-04-26 15:07:22,403 - INFO - 收到退出信号
2025-04-26 15:07:22,694 - INFO - 收到退出信号
2025-04-26 15:07:22,858 - INFO - 收到退出信号
2025-04-26 15:07:22,971 - INFO - 收到退出信号
2025-04-26 15:07:23,313 - INFO - mpg123播放器已启动
2025-04-26 15:07:25,316 - INFO - 收到退出信号
2025-04-26 15:07:25,316 - INFO - 收到退出信号
2025-04-26 15:07:25,316 - INFO - 收到退出信号
2025-04-26 15:07:25,316 - INFO - 收到退出信号
2025-04-26 15:07:25,317 - INFO - 收到退出信号
2025-04-26 15:07:25,317 - INFO - 收到退出信号
2025-04-26 15:07:25,317 - INFO - 收到退出信号
2025-04-26 15:07:25,317 - INFO - 收到退出信号
2025-04-26 15:07:25,317 - INFO - 收到退出信号
2025-04-26 15:07:25,318 - INFO - 收到退出信号
2025-04-26 15:07:25,318 - INFO - 收到退出信号
2025-04-26 15:07:25,318 - INFO - 收到退出信号
2025-04-26 15:07:25,318 - INFO - 收到退出信号
2025-04-26 15:07:25,318 - INFO - 收到退出信号
2025-04-26 15:07:25,318 - INFO - 收到退出信号
2025-04-26 15:07:25,318 - INFO - 收到退出信号
2025-04-26 15:07:25,318 - INFO - 收到退出信号
2025-04-26 15:07:25,318 - INFO - 收到退出信号
2025-04-26 15:07:25,319 - INFO - 收到退出信号
2025-04-26 15:07:25,319 - INFO - 收到退出信号
2025-04-26 15:07:25,319 - INFO - 收到退出信号
2025-04-26 15:07:26,320 - INFO - 正在关闭系统...
2025-04-26 15:07:26,822 - INFO - mpg123播放器已关闭
2025-04-26 15:07:26,822 - INFO - 收到退出信号
2025-04-26 15:07:26,828 - INFO - 所有资源已清理，系统已安全关闭
2025-04-26 15:14:22,840 - INFO - 开始人脸认证...
2025-04-26 15:14:22,841 - INFO - mpg123播放器已启动
2025-04-26 15:14:28,508 - INFO - 认证成功: wudawang
2025-04-26 15:14:32,651 - INFO - mpg123播放器已关闭
2025-04-26 15:14:32,654 - INFO - 正在初始化甘薯问答系统...
2025-04-26 15:14:35,089 - INFO - Use pytorch device_name: cuda
2025-04-26 15:14:35,090 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 15:14:53,732 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main/main_stream.py:256> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main/main_stream.py", line 273, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 360, in __wakeup
    self.__step()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main/main_stream.py", line 270, in main
    await chatbox.run()
  File "/home/wuye/vscode/chatbox/main/main_stream.py", line 204, in run
    if not await self.initialize():
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main/main_stream.py", line 71, in initialize
    self.qa = KnowledgeQA(llm_model=self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 38, in __init__
    self.embedding_model = self._init_embeddings()
                           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 46, in _init_embeddings
    return HuggingFaceEmbeddings(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/langchain_huggingface/embeddings/huggingface.py", line 59, in __init__
    self._client = sentence_transformers.SentenceTransformer(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 309, in __init__
    modules, self.module_kwargs = self._load_sbert_model(
                                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 1702, in _load_sbert_model
    self.model_card_data.set_base_model(model_name_or_path, revision=revision)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/model_card.py", line 757, in set_base_model
    model_info = get_model_info(model_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/hf_api.py", line 2591, in model_info
    r = get_session().get(path, headers=headers, timeout=timeout, params=params)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_http.py", line 96, in send
    return super().send(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
KeyboardInterrupt
2025-04-26 15:15:04,506 - INFO - 开始人脸认证...
2025-04-26 15:15:04,507 - INFO - mpg123播放器已启动
2025-04-26 15:15:09,971 - INFO - 认证成功: wudawang
2025-04-26 15:15:14,433 - INFO - mpg123播放器已关闭
2025-04-26 15:15:14,436 - INFO - 正在初始化甘薯问答系统...
2025-04-26 15:15:16,781 - INFO - Use pytorch device_name: cuda
2025-04-26 15:15:16,781 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 15:16:07,101 - INFO - 开始人脸认证...
2025-04-26 15:16:07,102 - INFO - mpg123播放器已启动
2025-04-26 15:16:15,161 - INFO - 认证成功: wudawang
2025-04-26 15:16:19,390 - INFO - mpg123播放器已关闭
2025-04-26 15:16:19,392 - INFO - 正在初始化甘薯问答系统...
2025-04-26 15:16:21,745 - INFO - Use pytorch device_name: cuda
2025-04-26 15:16:21,745 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 15:16:34,277 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main/main_stream.py:256> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main/main_stream.py", line 273, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 360, in __wakeup
    self.__step()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main/main_stream.py", line 270, in main
    await chatbox.run()
  File "/home/wuye/vscode/chatbox/main/main_stream.py", line 204, in run
    if not await self.initialize():
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main/main_stream.py", line 71, in initialize
    self.qa = KnowledgeQA(llm_model=self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 38, in __init__
    self.embedding_model = self._init_embeddings()
                           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 46, in _init_embeddings
    return HuggingFaceEmbeddings(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/langchain_huggingface/embeddings/huggingface.py", line 59, in __init__
    self._client = sentence_transformers.SentenceTransformer(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 309, in __init__
    modules, self.module_kwargs = self._load_sbert_model(
                                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 1702, in _load_sbert_model
    self.model_card_data.set_base_model(model_name_or_path, revision=revision)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/model_card.py", line 757, in set_base_model
    model_info = get_model_info(model_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/hf_api.py", line 2591, in model_info
    r = get_session().get(path, headers=headers, timeout=timeout, params=params)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_http.py", line 96, in send
    return super().send(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
KeyboardInterrupt
2025-04-26 15:17:03,527 - INFO - Use pytorch device_name: cuda
2025-04-26 15:17:03,527 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 15:17:03,892 - INFO - Loading faiss with AVX512 support.
2025-04-26 15:17:03,904 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 15:17:03,906 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 15:17:24,030 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:17:30,771 - INFO - 问答耗时: 8.35秒
2025-04-26 15:18:29,457 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:18:32,361 - INFO - 问答耗时: 3.11秒
2025-04-26 15:19:12,075 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:19:23,629 - INFO - 问答耗时: 11.90秒
2025-04-26 15:21:01,947 - INFO - 开始人脸认证...
2025-04-26 15:21:01,948 - INFO - mpg123播放器已启动
2025-04-26 15:21:07,694 - INFO - 认证成功: wudawang
2025-04-26 15:21:11,859 - INFO - mpg123播放器已关闭
2025-04-26 15:21:11,860 - INFO - 正在初始化甘薯问答系统...
2025-04-26 15:21:14,386 - INFO - Use pytorch device_name: cuda
2025-04-26 15:21:14,386 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 15:21:25,041 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main/main_stream.py:256> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main/main_stream.py", line 273, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 360, in __wakeup
    self.__step()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main/main_stream.py", line 270, in main
    await chatbox.run()
  File "/home/wuye/vscode/chatbox/main/main_stream.py", line 204, in run
    if not await self.initialize():
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main/main_stream.py", line 71, in initialize
    self.qa = KnowledgeQA(llm_model=self.model)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 38, in __init__
    self.embedding_model = self._init_embeddings()
                           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 46, in _init_embeddings
    return HuggingFaceEmbeddings(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/langchain_huggingface/embeddings/huggingface.py", line 59, in __init__
    self._client = sentence_transformers.SentenceTransformer(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 309, in __init__
    modules, self.module_kwargs = self._load_sbert_model(
                                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 1702, in _load_sbert_model
    self.model_card_data.set_base_model(model_name_or_path, revision=revision)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/model_card.py", line 757, in set_base_model
    model_info = get_model_info(model_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/hf_api.py", line 2591, in model_info
    r = get_session().get(path, headers=headers, timeout=timeout, params=params)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_http.py", line 96, in send
    return super().send(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
KeyboardInterrupt
2025-04-26 15:21:55,418 - INFO - Use pytorch device_name: cuda
2025-04-26 15:21:55,418 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 15:22:25,662 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main/main.py:81> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main/main.py", line 124, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 360, in __wakeup
    self.__step()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main/main.py", line 113, in main
    await run_sweet_potato_system()
  File "/home/wuye/vscode/chatbox/main/main.py", line 16, in run_sweet_potato_system
    qa = KnowledgeQA()
         ^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 38, in __init__
    self.embedding_model = self._init_embeddings()
                           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 46, in _init_embeddings
    return HuggingFaceEmbeddings(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/langchain_huggingface/embeddings/huggingface.py", line 59, in __init__
    self._client = sentence_transformers.SentenceTransformer(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 309, in __init__
    modules, self.module_kwargs = self._load_sbert_model(
                                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 1702, in _load_sbert_model
    self.model_card_data.set_base_model(model_name_or_path, revision=revision)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/model_card.py", line 757, in set_base_model
    model_info = get_model_info(model_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/hf_api.py", line 2591, in model_info
    r = get_session().get(path, headers=headers, timeout=timeout, params=params)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_http.py", line 96, in send
    return super().send(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
KeyboardInterrupt
2025-04-26 15:23:19,978 - ERROR - 语音播放失败：[Errno 2] No such file or directory: 'temp_audio_124086733492496.mp3'
2025-04-26 15:23:46,771 - INFO - Use pytorch device_name: cuda
2025-04-26 15:23:46,771 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 15:24:19,377 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main/main.py:81> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main/main.py", line 124, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main/main.py", line 113, in main
    await run_sweet_potato_system()
  File "/home/wuye/vscode/chatbox/main/main.py", line 16, in run_sweet_potato_system
    qa = KnowledgeQA()
         ^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 38, in __init__
    self.embedding_model = self._init_embeddings()
                           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 46, in _init_embeddings
    return HuggingFaceEmbeddings(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/langchain_huggingface/embeddings/huggingface.py", line 59, in __init__
    self._client = sentence_transformers.SentenceTransformer(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 309, in __init__
    modules, self.module_kwargs = self._load_sbert_model(
                                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 1702, in _load_sbert_model
    self.model_card_data.set_base_model(model_name_or_path, revision=revision)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/model_card.py", line 757, in set_base_model
    model_info = get_model_info(model_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/hf_api.py", line 2591, in model_info
    r = get_session().get(path, headers=headers, timeout=timeout, params=params)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_http.py", line 96, in send
    return super().send(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
KeyboardInterrupt
2025-04-26 15:25:42,494 - INFO - Use pytorch device_name: cuda
2025-04-26 15:25:42,494 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 15:25:54,030 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main/main.py:78> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main/main.py", line 121, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main/main.py", line 110, in main
    await run_sweet_potato_system()
  File "/home/wuye/vscode/chatbox/main/main.py", line 16, in run_sweet_potato_system
    qa = KnowledgeQA()
         ^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 38, in __init__
    self.embedding_model = self._init_embeddings()
                           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 46, in _init_embeddings
    return HuggingFaceEmbeddings(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/langchain_huggingface/embeddings/huggingface.py", line 59, in __init__
    self._client = sentence_transformers.SentenceTransformer(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 309, in __init__
    modules, self.module_kwargs = self._load_sbert_model(
                                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 1702, in _load_sbert_model
    self.model_card_data.set_base_model(model_name_or_path, revision=revision)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/model_card.py", line 757, in set_base_model
    model_info = get_model_info(model_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/hf_api.py", line 2591, in model_info
    r = get_session().get(path, headers=headers, timeout=timeout, params=params)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_http.py", line 96, in send
    return super().send(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
KeyboardInterrupt
2025-04-26 15:27:22,880 - INFO - Use pytorch device_name: cuda
2025-04-26 15:27:22,880 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 15:28:22,546 - INFO - Use pytorch device_name: cuda
2025-04-26 15:28:22,547 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 15:28:41,094 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main/main.py:77> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main/main.py", line 120, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 360, in __wakeup
    self.__step()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main/main.py", line 109, in main
    await run_sweet_potato_system()
  File "/home/wuye/vscode/chatbox/main/main.py", line 16, in run_sweet_potato_system
    qa = KnowledgeQA()
         ^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 38, in __init__
    self.embedding_model = self._init_embeddings()
                           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 46, in _init_embeddings
    return HuggingFaceEmbeddings(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/langchain_huggingface/embeddings/huggingface.py", line 59, in __init__
    self._client = sentence_transformers.SentenceTransformer(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 309, in __init__
    modules, self.module_kwargs = self._load_sbert_model(
                                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 1702, in _load_sbert_model
    self.model_card_data.set_base_model(model_name_or_path, revision=revision)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/model_card.py", line 757, in set_base_model
    model_info = get_model_info(model_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/hf_api.py", line 2591, in model_info
    r = get_session().get(path, headers=headers, timeout=timeout, params=params)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_http.py", line 96, in send
    return super().send(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
KeyboardInterrupt
2025-04-26 15:29:10,182 - INFO - Use pytorch device_name: cuda
2025-04-26 15:29:10,182 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 15:29:29,097 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main/main.py:77> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main/main.py", line 120, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 360, in __wakeup
    self.__step()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main/main.py", line 109, in main
    await run_sweet_potato_system()
  File "/home/wuye/vscode/chatbox/main/main.py", line 16, in run_sweet_potato_system
    qa = KnowledgeQA()
         ^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 38, in __init__
    self.embedding_model = self._init_embeddings()
                           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 46, in _init_embeddings
    return HuggingFaceEmbeddings(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/langchain_huggingface/embeddings/huggingface.py", line 59, in __init__
    self._client = sentence_transformers.SentenceTransformer(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 309, in __init__
    modules, self.module_kwargs = self._load_sbert_model(
                                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 1702, in _load_sbert_model
    self.model_card_data.set_base_model(model_name_or_path, revision=revision)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/model_card.py", line 757, in set_base_model
    model_info = get_model_info(model_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/hf_api.py", line 2591, in model_info
    r = get_session().get(path, headers=headers, timeout=timeout, params=params)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_http.py", line 96, in send
    return super().send(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
KeyboardInterrupt
2025-04-26 15:31:17,926 - INFO - Use pytorch device_name: cuda
2025-04-26 15:31:17,926 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 15:32:24,014 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main/main.py:77> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main/main.py", line 120, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 360, in __wakeup
    self.__step()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main/main.py", line 109, in main
    await run_sweet_potato_system()
  File "/home/wuye/vscode/chatbox/main/main.py", line 16, in run_sweet_potato_system
    qa = KnowledgeQA()
         ^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 38, in __init__
    self.embedding_model = self._init_embeddings()
                           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 46, in _init_embeddings
    return HuggingFaceEmbeddings(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/langchain_huggingface/embeddings/huggingface.py", line 59, in __init__
    self._client = sentence_transformers.SentenceTransformer(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 309, in __init__
    modules, self.module_kwargs = self._load_sbert_model(
                                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 1702, in _load_sbert_model
    self.model_card_data.set_base_model(model_name_or_path, revision=revision)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/model_card.py", line 757, in set_base_model
    model_info = get_model_info(model_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/hf_api.py", line 2591, in model_info
    r = get_session().get(path, headers=headers, timeout=timeout, params=params)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_http.py", line 96, in send
    return super().send(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
KeyboardInterrupt
2025-04-26 15:34:11,331 - ERROR - 语音播放失败：503, message='Invalid response status', url='wss://speech.platform.bing.com/consumer/speech/synthesize/readaloud/edge/v1?TrustedClientToken=6A5AA1D4EAFF4E9FB37E23D68491D6F4&Sec-MS-GEC=9083CD98CB5459E32B40CBB1E518F10C2F118AB6D34056F41B7AB6A01D214D05&Sec-MS-GEC-Version=1-130.0.2849.68&ConnectionId=c618eb7314af48ee831dbc4736ad6a5f'
2025-04-26 15:36:45,264 - ERROR - TTS尝试 1/3 失败: 503, message='Invalid response status', url='wss://speech.platform.bing.com/consumer/speech/synthesize/readaloud/edge/v1?TrustedClientToken=6A5AA1D4EAFF4E9FB37E23D68491D6F4&Sec-MS-GEC=48C29A8B367368B0D83BF7EFEE20E65AC18210E2257871C39484EBA53A3703ED&Sec-MS-GEC-Version=1-130.0.2849.68&ConnectionId=ec2083d4d3414699902505cd39a09067'
2025-04-26 15:37:10,559 - INFO - Use pytorch device_name: cuda
2025-04-26 15:37:10,559 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 15:38:40,984 - INFO - Use pytorch device_name: cuda
2025-04-26 15:38:40,984 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 15:38:41,879 - INFO - Loading faiss with AVX512 support.
2025-04-26 15:38:41,899 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 15:38:41,902 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 15:39:16,545 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:39:25,091 - INFO - 问答耗时: 11.96秒
2025-04-26 15:40:42,774 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:40:46,719 - INFO - 问答耗时: 4.16秒
2025-04-26 15:46:17,087 - INFO - Use pytorch device_name: cuda
2025-04-26 15:46:17,087 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 15:46:17,955 - INFO - Loading faiss with AVX512 support.
2025-04-26 15:46:17,967 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 15:46:17,970 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 15:46:43,597 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:46:51,567 - INFO - 问答耗时: 9.67秒
2025-04-26 15:48:17,394 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:48:22,951 - INFO - 问答耗时: 5.73秒
2025-04-26 15:49:58,199 - INFO - Use pytorch device_name: cuda
2025-04-26 15:49:58,199 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 15:49:59,030 - INFO - Loading faiss with AVX512 support.
2025-04-26 15:49:59,042 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 15:49:59,046 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 15:50:15,416 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:50:18,997 - INFO - 问答耗时: 3.83秒
2025-04-26 15:51:11,380 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:51:11,430 - INFO - 问答耗时: 0.43秒
2025-04-26 15:51:30,122 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:51:30,164 - INFO - 问答耗时: 0.20秒
2025-04-26 15:51:47,229 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:51:47,271 - INFO - 问答耗时: 0.21秒
2025-04-26 15:52:05,848 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:52:07,308 - INFO - 问答耗时: 1.84秒
2025-04-26 15:52:36,470 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:52:36,512 - INFO - 问答耗时: 0.37秒
2025-04-26 15:55:33,760 - INFO - Use pytorch device_name: cuda
2025-04-26 15:55:33,760 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 15:55:34,742 - INFO - Loading faiss with AVX512 support.
2025-04-26 15:55:34,755 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 15:55:34,757 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 15:55:50,246 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:55:53,172 - INFO - 问答耗时: 3.18秒
2025-04-26 15:56:31,125 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:56:32,650 - INFO - 问答耗时: 1.81秒
2025-04-26 15:57:00,206 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:57:00,249 - INFO - 问答耗时: 0.26秒
2025-04-26 15:57:16,466 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:57:16,508 - INFO - 问答耗时: 0.37秒
2025-04-26 15:57:34,573 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:57:34,615 - INFO - 问答耗时: 0.27秒
2025-04-26 15:57:51,245 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:57:53,196 - INFO - 问答耗时: 2.16秒
2025-04-26 15:58:58,204 - INFO - Use pytorch device_name: cuda
2025-04-26 15:58:58,204 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 15:58:59,161 - INFO - Loading faiss with AVX512 support.
2025-04-26 15:58:59,174 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 15:58:59,176 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 15:59:13,897 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:59:13,938 - INFO - 问答耗时: 0.23秒
2025-04-26 15:59:31,583 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 15:59:31,625 - INFO - 问答耗时: 0.31秒
2025-04-26 16:04:51,142 - INFO - Use pytorch device_name: cuda
2025-04-26 16:04:51,142 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 16:04:52,007 - INFO - Loading faiss with AVX512 support.
2025-04-26 16:04:52,019 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 16:04:52,022 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 16:06:39,651 - INFO - Use pytorch device_name: cuda
2025-04-26 16:06:39,651 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 16:06:40,461 - INFO - Loading faiss with AVX512 support.
2025-04-26 16:06:40,472 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 16:06:40,474 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 16:06:57,700 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 16:06:57,745 - INFO - 问答耗时: 1.61秒
2025-04-26 16:07:14,881 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 16:07:14,926 - INFO - 问答耗时: 0.24秒
2025-04-26 16:08:15,708 - INFO - Use pytorch device_name: cuda
2025-04-26 16:08:15,708 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 16:08:16,559 - INFO - Loading faiss with AVX512 support.
2025-04-26 16:08:16,571 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 16:08:16,573 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 16:08:31,552 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 16:08:31,647 - INFO - 问答耗时: 0.15秒
2025-04-26 16:09:14,329 - INFO - Use pytorch device_name: cuda
2025-04-26 16:09:14,329 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 16:09:15,283 - INFO - Loading faiss with AVX512 support.
2025-04-26 16:09:15,296 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 16:09:15,299 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 16:09:30,567 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 16:09:30,612 - INFO - 问答耗时: 0.10秒
2025-04-26 16:13:59,626 - INFO - Use pytorch device_name: cuda
2025-04-26 16:13:59,626 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 16:14:00,617 - INFO - Loading faiss with AVX512 support.
2025-04-26 16:14:00,628 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 16:14:00,630 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 16:14:15,593 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 16:14:15,638 - INFO - 问答耗时: 0.11秒
2025-04-26 16:15:16,577 - INFO - Use pytorch device_name: cuda
2025-04-26 16:15:16,577 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 16:15:17,466 - INFO - Loading faiss with AVX512 support.
2025-04-26 16:15:17,478 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 16:15:17,480 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 16:21:43,208 - INFO - 开始人脸认证...
2025-04-26 16:21:43,209 - INFO - mpg123播放器已启动
2025-04-26 16:21:50,320 - INFO - 认证成功: wudawang
2025-04-26 16:21:56,045 - INFO - mpg123播放器已关闭
2025-04-26 16:21:56,048 - INFO - 正在初始化甘薯问答系统...
2025-04-26 16:21:56,050 - INFO - mpg123播放器已启动
2025-04-26 16:22:00,836 - INFO - 初始化语音识别...
2025-04-26 16:22:00,924 - INFO - 正在加载知识模型，这可能需要一些时间...
2025-04-26 16:22:09,854 - INFO - Use pytorch device_name: cuda
2025-04-26 16:22:09,855 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 16:22:10,801 - INFO - Loading faiss with AVX512 support.
2025-04-26 16:22:10,814 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 16:22:10,817 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 16:22:10,829 - INFO - 系统初始化完成
2025-04-26 16:22:18,400 - INFO - 等待用户输入...
2025-04-26 16:22:28,238 - INFO - 用户问题: 甘薯的贮藏特性。
2025-04-26 16:22:28,238 - INFO - 正在处理问题...
2025-04-26 16:22:30,021 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 16:22:33,411 - INFO - 流式回答花费了 5.06 seconds
2025-04-26 16:22:33,412 - INFO - 完整响应 (5.17秒)：甘薯不同品种耐贮性差异较大。紫薯比红薯耐贮藏，大叶红、烟薯25、济薯26等体积小、纺锤形、表皮薄、糖含量高的红薯耐贮性差，北京553、红香蕉等体积大、球形、表皮厚、糖含量低的红薯耐贮性稍好。
2025-04-26 16:22:33,412 - INFO - 等待用户输入...
2025-04-26 16:23:03,059 - INFO - 用户问题: 那住宿舍好，那你还有什么位置呢？
2025-04-26 16:23:03,059 - INFO - 正在处理问题...
2025-04-26 16:23:03,347 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 16:23:03,394 - INFO - 流式回答花费了 0.31 seconds
2025-04-26 16:23:03,394 - INFO - 完整响应 (0.33秒)：我不知道
2025-04-26 16:23:03,394 - INFO - 等待用户输入...
2025-04-26 16:23:17,180 - INFO - 用户问题: 什么建议？
2025-04-26 16:23:17,180 - INFO - 正在处理问题...
2025-04-26 16:23:17,502 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 16:23:19,267 - INFO - 流式回答花费了 2.07 seconds
2025-04-26 16:23:19,267 - INFO - 完整响应 (2.09秒)：建议不要生吃甘薯，煮时要适当延长蒸煮时间，烂甘薯和发芽的甘薯不能吃，可以将甘薯制成各种食品，最好和米面搭配食用。
2025-04-26 16:23:19,267 - INFO - 等待用户输入...
2025-04-26 16:23:40,601 - INFO - 用户问题: 你说什么问题呢？
2025-04-26 16:23:40,601 - INFO - 正在处理问题...
2025-04-26 16:23:40,859 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 16:23:41,745 - INFO - 流式回答花费了 1.12 seconds
2025-04-26 16:23:41,746 - INFO - 完整响应 (1.14秒)：甘薯在贮藏过程中容易腐烂变质、表皮皱缩、干缩糠心。
2025-04-26 16:23:41,746 - INFO - 等待用户输入...
2025-04-26 16:23:57,387 - INFO - 用户问题: 退出了。
2025-04-26 16:23:57,387 - INFO - 正在处理问题...
2025-04-26 16:23:57,610 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 16:23:57,656 - INFO - 流式回答花费了 0.26 seconds
2025-04-26 16:23:57,656 - INFO - 完整响应 (0.27秒)：我不知道
2025-04-26 16:23:57,656 - INFO - 等待用户输入...
2025-04-26 16:24:12,173 - INFO - 用户问题: 退出。
2025-04-26 16:24:12,173 - INFO - ==================================================
2025-04-26 16:24:12,173 - INFO - 收到退出命令: '退出。'，lower() 结果是: '退出。'
2025-04-26 16:24:12,173 - INFO - ==================================================
2025-04-26 16:24:17,917 - INFO - 正在关闭系统...
2025-04-26 16:24:18,419 - INFO - mpg123播放器已关闭
2025-04-26 16:24:18,426 - INFO - ASR资源已释放
2025-04-26 16:24:18,426 - INFO - 所有资源已清理，系统已安全关闭
2025-04-26 16:25:45,290 - INFO - 开始人脸认证...
2025-04-26 16:25:45,290 - INFO - mpg123播放器已启动
2025-04-26 16:25:53,458 - INFO - 认证成功: wudawang
2025-04-26 16:26:00,213 - INFO - mpg123播放器已关闭
2025-04-26 16:26:00,213 - INFO - 正在初始化甘薯问答系统...
2025-04-26 16:26:00,224 - INFO - mpg123播放器已启动
2025-04-26 16:26:04,539 - INFO - 初始化语音识别...
2025-04-26 16:26:04,621 - INFO - 正在加载知识模型，这可能需要一些时间...
2025-04-26 16:26:14,188 - INFO - Use pytorch device_name: cuda
2025-04-26 16:26:14,189 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 16:26:15,074 - INFO - Loading faiss with AVX512 support.
2025-04-26 16:26:15,086 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 16:26:15,088 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 16:26:15,099 - INFO - 系统初始化完成
2025-04-26 16:26:22,714 - INFO - 等待用户输入...
2025-04-26 16:26:34,059 - INFO - 用户问题: 
2025-04-26 16:26:34,059 - INFO - 等待用户输入...
2025-04-26 16:26:34,072 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:26:43,570 - INFO - 用户问题: 
2025-04-26 16:26:43,570 - INFO - 正在关闭系统...
2025-04-26 16:26:44,072 - INFO - mpg123播放器已关闭
2025-04-26 16:26:44,077 - INFO - ASR资源已释放
2025-04-26 16:26:44,077 - INFO - 所有资源已清理，系统已安全关闭
2025-04-26 16:29:36,889 - INFO - 开始人脸认证...
2025-04-26 16:29:36,889 - INFO - mpg123播放器已启动
2025-04-26 16:29:44,341 - INFO - 认证成功: wudawang
2025-04-26 16:29:50,397 - INFO - mpg123播放器已关闭
2025-04-26 16:29:50,399 - INFO - 正在初始化甘薯问答系统...
2025-04-26 16:29:50,401 - INFO - mpg123播放器已启动
2025-04-26 16:29:53,644 - INFO - 初始化语音识别...
2025-04-26 16:29:53,732 - INFO - 正在加载知识模型，这可能需要一些时间...
2025-04-26 16:30:01,448 - INFO - Use pytorch device_name: cuda
2025-04-26 16:30:01,449 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 16:30:02,428 - INFO - Loading faiss with AVX512 support.
2025-04-26 16:30:02,442 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 16:30:02,444 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 16:30:02,456 - INFO - 系统初始化完成
2025-04-26 16:30:08,537 - INFO - 等待用户输入...
2025-04-26 16:30:14,637 - INFO - 用户问题: 请问你有什么问题的，什么问题？
2025-04-26 16:30:14,637 - INFO - 正在处理问题...
2025-04-26 16:30:16,411 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 16:30:16,459 - INFO - 流式回答花费了 1.69 seconds
2025-04-26 16:30:16,459 - INFO - 完整响应 (1.82秒)：我不知道
2025-04-26 16:30:16,459 - INFO - 等待用户输入...
2025-04-26 16:30:35,741 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:37,286 - INFO - mpg123播放器已启动
2025-04-26 16:30:47,478 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:47,672 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:47,801 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:47,972 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:48,125 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:48,231 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:48,402 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:48,897 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:48,926 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:48,955 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:48,986 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,016 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,047 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,076 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,106 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,136 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,167 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,196 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,226 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,257 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,286 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,316 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,346 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,376 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,406 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,436 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,466 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,496 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,527 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,557 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,587 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,618 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,647 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,677 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,708 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,738 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,769 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,799 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,829 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,859 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,890 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,919 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,950 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:49,980 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:51,365 - INFO - mpg123播放器已启动
2025-04-26 16:30:53,002 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:53,219 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:53,722 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:53,750 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:53,773 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:53,804 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:53,833 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:53,864 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:53,894 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:53,924 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:53,955 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:53,985 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:54,015 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:54,045 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:54,076 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:54,107 - INFO - 收到系统退出信号，正在安全退出...
2025-04-26 16:30:55,471 - INFO - mpg123播放器已启动
2025-04-26 16:33:37,667 - INFO - 开始人脸认证...
2025-04-26 16:33:37,668 - INFO - mpg123播放器已启动
2025-04-26 16:33:46,458 - INFO - 认证成功: wudawang
2025-04-26 16:33:52,093 - INFO - mpg123播放器已关闭
2025-04-26 16:33:52,093 - INFO - 正在初始化甘薯问答系统...
2025-04-26 16:33:52,094 - INFO - mpg123播放器已启动
2025-04-26 16:33:56,770 - INFO - 初始化语音识别...
2025-04-26 16:33:56,863 - INFO - 正在加载知识模型，这可能需要一些时间...
2025-04-26 16:34:05,477 - INFO - Use pytorch device_name: cuda
2025-04-26 16:34:05,478 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 16:34:06,457 - INFO - Loading faiss with AVX512 support.
2025-04-26 16:34:06,470 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 16:34:06,473 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 16:34:06,485 - INFO - 系统初始化完成
2025-04-26 16:34:13,496 - INFO - 音频缓冲区已清理
2025-04-26 16:34:13,496 - INFO - 等待用户输入...
2025-04-26 16:34:18,991 - INFO - 音频缓冲区已清理
2025-04-26 16:34:24,811 - INFO - 用户问题: 甘薯的贮藏特性。
2025-04-26 16:34:24,811 - INFO - 正在处理问题...
2025-04-26 16:34:25,242 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 16:34:27,367 - INFO - 流式回答花费了 2.45 seconds
2025-04-26 16:34:27,367 - INFO - 完整响应 (2.56秒)：甘薯不同品种耐贮性差异大。紫薯比红薯耐贮藏，北京553、红香蕉等体积大、球形、表皮厚、糖含量低的红薯耐贮性稍好。
2025-04-26 16:34:27,368 - INFO - 等待用户输入...
2025-04-26 16:34:50,306 - INFO - 音频缓冲区已清理
2025-04-26 16:34:56,014 - INFO - 用户问题: 甘肃的。
2025-04-26 16:34:56,015 - INFO - 正在处理问题...
2025-04-26 16:34:56,430 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 16:34:56,479 - INFO - 流式回答花费了 0.43 seconds
2025-04-26 16:34:56,479 - INFO - 完整响应 (0.46秒)：我不知道
2025-04-26 16:34:56,479 - INFO - 等待用户输入...
2025-04-26 16:35:05,475 - INFO - 音频缓冲区已清理
2025-04-26 16:35:10,905 - INFO - 用户问题: 甘肃的使用建议。
2025-04-26 16:35:10,905 - INFO - 正在处理问题...
2025-04-26 16:35:11,356 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 16:35:11,406 - INFO - 流式回答花费了 0.49 seconds
2025-04-26 16:35:11,406 - INFO - 完整响应 (0.50秒)：我不知道
2025-04-26 16:35:11,406 - INFO - 等待用户输入...
2025-04-26 16:35:19,959 - INFO - 音频缓冲区已清理
2025-04-26 16:35:25,464 - INFO - 用户问题: 退出。
2025-04-26 16:35:25,464 - INFO - ==================================================
2025-04-26 16:35:25,473 - INFO - 收到退出命令: '退出。'，lower() 结果是: '退出。'
2025-04-26 16:35:25,473 - INFO - ==================================================
2025-04-26 16:35:30,781 - INFO - 正在关闭系统...
2025-04-26 16:35:31,283 - INFO - mpg123播放器已关闭
2025-04-26 16:35:31,296 - INFO - ASR资源已释放
2025-04-26 16:35:31,297 - INFO - 所有资源已清理，系统已安全关闭
2025-04-26 16:39:25,949 - ERROR - 主程序错误: name 'self' is not defined
2025-04-26 16:40:10,765 - INFO - Use pytorch device_name: cuda
2025-04-26 16:40:10,765 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 16:40:11,706 - INFO - Loading faiss with AVX512 support.
2025-04-26 16:40:11,718 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 16:40:11,721 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 16:41:01,308 - INFO - Use pytorch device_name: cuda
2025-04-26 16:41:01,308 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 16:41:02,162 - INFO - Loading faiss with AVX512 support.
2025-04-26 16:41:02,175 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 16:41:02,178 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 16:41:18,236 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 16:41:18,279 - INFO - 问答耗时: 1.61秒
2025-04-26 16:41:34,458 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 16:41:34,504 - INFO - 问答耗时: 0.23秒
2025-04-26 16:41:51,348 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 16:41:51,391 - INFO - 问答耗时: 0.21秒
2025-04-26 16:47:54,170 - INFO - Use pytorch device_name: cuda
2025-04-26 16:47:54,170 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 16:47:55,068 - INFO - Loading faiss with AVX512 support.
2025-04-26 16:47:55,080 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 16:47:55,083 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 16:48:12,481 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 16:48:16,233 - INFO - 问答耗时: 5.46秒
2025-04-26 16:48:55,370 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 16:48:57,114 - INFO - 问答耗时: 2.10秒
2025-04-26 16:50:53,622 - INFO - Use pytorch device_name: cuda
2025-04-26 16:50:53,622 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 16:50:54,466 - INFO - Loading faiss with AVX512 support.
2025-04-26 16:50:54,478 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 16:50:54,480 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 16:50:54,492 - ERROR - 系统运行出错: name 'user_name' is not defined
2025-04-26 16:52:53,223 - INFO - Use pytorch device_name: cuda
2025-04-26 16:52:53,223 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 16:52:54,064 - INFO - Loading faiss with AVX512 support.
2025-04-26 16:52:54,076 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 16:52:54,079 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 16:53:10,894 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 16:53:14,482 - INFO - 问答耗时: 3.91秒
2025-04-26 16:56:48,039 - INFO - Use pytorch device_name: cuda
2025-04-26 16:56:48,040 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 16:56:48,965 - INFO - Loading faiss with AVX512 support.
2025-04-26 16:56:48,979 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 16:56:48,981 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 17:01:27,374 - INFO - 🔐 开始人脸认证...
2025-04-26 17:01:27,375 - INFO - mpg123播放器已启动
2025-04-26 17:01:34,929 - INFO - ✅ 认证成功: wudawang
2025-04-26 17:01:40,357 - INFO - mpg123播放器已关闭
2025-04-26 17:01:40,357 - INFO - 🚀 正在初始化甘薯问答系统...
2025-04-26 17:01:40,459 - INFO - mpg123播放器已启动
2025-04-26 17:01:44,101 - INFO - 🎤 初始化语音识别...
2025-04-26 17:01:44,202 - INFO - 🧠 正在加载知识模型，这可能需要一些时间...
2025-04-26 17:01:52,894 - INFO - Use pytorch device_name: cuda
2025-04-26 17:01:52,895 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 17:01:53,757 - INFO - Loading faiss with AVX512 support.
2025-04-26 17:01:53,770 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 17:01:53,772 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 17:01:53,793 - INFO - ✨ 系统初始化完成
2025-04-26 17:01:58,864 - INFO - 🧹 音频缓冲区已清理
2025-04-26 17:01:58,865 - INFO - 
🎤 等待语音输入
2025-04-26 17:02:04,894 - INFO - 🧹 音频缓冲区已清理
2025-04-26 17:02:50,241 - INFO - 🔐 开始人脸认证...
2025-04-26 17:02:50,242 - INFO - mpg123播放器已启动
2025-04-26 17:03:01,008 - INFO - ✅ 认证成功: wudawang
2025-04-26 17:03:06,851 - INFO - mpg123播放器已关闭
2025-04-26 17:03:06,852 - INFO - 🚀 正在初始化甘薯问答系统...
2025-04-26 17:03:06,962 - INFO - mpg123播放器已启动
2025-04-26 17:03:10,943 - INFO - 🎤 初始化语音识别...
2025-04-26 17:03:11,044 - INFO - 🧠 正在加载知识模型，这可能需要一些时间...
2025-04-26 17:03:18,331 - INFO - Use pytorch device_name: cuda
2025-04-26 17:03:18,331 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 17:03:19,147 - INFO - Loading faiss with AVX512 support.
2025-04-26 17:03:19,160 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-26 17:03:19,163 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-26 17:03:19,228 - INFO - ✨ 系统初始化完成
2025-04-26 17:03:24,433 - INFO - 🧹 音频缓冲区已清理
2025-04-26 17:03:24,433 - INFO - 
🎤 等待语音输入
2025-04-26 17:03:29,715 - INFO - 🧹 音频缓冲区已清理
2025-04-26 17:03:35,428 - INFO - 💬 问题: 退出了。
2025-04-26 17:03:35,428 - INFO - 🧠 正在处理问题...
2025-04-26 17:03:37,130 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 17:03:37,178 - INFO - 流式回答花费了 1.62 seconds
2025-04-26 17:03:37,178 - INFO - ✅ 回答完成 (用时: 1.74秒)
2025-04-26 17:03:37,178 - INFO - 
🎤 等待语音输入
2025-04-26 17:03:44,415 - INFO - 🧹 音频缓冲区已清理
2025-04-26 17:03:49,823 - INFO - 💬 问题: 退出你说。
2025-04-26 17:03:49,823 - INFO - 🧠 正在处理问题...
2025-04-26 17:03:50,159 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-26 17:03:50,225 - INFO - 流式回答花费了 0.39 seconds
2025-04-26 17:03:50,225 - INFO - ✅ 回答完成 (用时: 0.40秒)
2025-04-26 17:03:50,225 - INFO - 
🎤 等待语音输入
2025-04-26 17:03:57,592 - INFO - 🧹 音频缓冲区已清理
2025-04-26 17:04:02,898 - INFO - 💬 问题: 退出。
2025-04-26 17:04:02,898 - INFO - ==================================================
2025-04-26 17:04:02,898 - INFO - 🚪 收到退出命令: '退出。'，lower() 结果是: '退出。'
2025-04-26 17:04:02,898 - INFO - ==================================================
2025-04-26 17:04:06,939 - INFO - 🧹 正在关闭系统...
2025-04-26 17:04:07,440 - INFO - mpg123播放器已关闭
2025-04-26 17:04:07,451 - INFO - ✅ ASR资源已释放
2025-04-26 17:04:07,540 - INFO - ✅ 所有资源已清理，系统已安全关闭
2025-04-26 23:43:27,427 - INFO - Use pytorch device_name: cuda
2025-04-26 23:43:27,427 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-26 23:43:28,149 - WARNING - No sentence-transformers model found with name sentence-transformers/bge-base-zh-v1.5. Creating a new one with mean pooling.
2025-04-26 23:43:28,446 - ERROR - 错误初始化向量化模型: sentence-transformers/bge-base-zh-v1.5 is not a local folder and is not a valid model identifier listed on 'https://huggingface.co/models'
If this is a private repository, make sure to pass a token having permission to this repo either by logging in with `huggingface-cli login` or by passing `token=<your_token>`
2025-04-28 14:20:12,079 - INFO - Use pytorch device_name: cuda
2025-04-28 14:20:12,088 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-28 14:20:12,445 - INFO - Loading faiss with AVX512 support.
2025-04-28 14:20:12,458 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-28 14:20:12,460 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-28 14:20:29,967 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-28 14:20:30,015 - INFO - 问答耗时: 3.44秒
2025-04-28 14:20:44,084 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-28 14:20:44,129 - INFO - 问答耗时: 0.10秒
2025-04-28 14:20:57,669 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-28 14:20:57,711 - INFO - 问答耗时: 0.10秒
2025-04-28 14:22:02,492 - INFO - Use pytorch device_name: cuda
2025-04-28 14:22:02,492 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-28 14:22:59,094 - INFO - Use pytorch device_name: cuda
2025-04-28 14:22:59,094 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-28 14:24:00,116 - INFO - Use pytorch device_name: cuda
2025-04-28 14:24:00,116 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-28 14:24:01,021 - INFO - Loading faiss with AVX512 support.
2025-04-28 14:24:01,034 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-28 14:24:01,037 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-28 14:24:16,429 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-28 14:24:16,472 - INFO - 问答耗时: 0.10秒
2025-04-28 14:24:48,976 - INFO - 🔐 开始人脸认证...
2025-04-28 14:24:48,978 - INFO - mpg123播放器已启动
2025-04-28 14:24:56,954 - INFO - ✅ 认证成功: wudawang
2025-04-28 14:25:01,748 - INFO - mpg123播放器已关闭
2025-04-28 14:25:01,751 - INFO - 🚀 正在初始化甘薯问答系统...
2025-04-28 14:25:01,853 - INFO - mpg123播放器已启动
2025-04-28 14:25:05,590 - INFO - 🎤 初始化语音识别...
2025-04-28 14:25:05,692 - INFO - 🧠 正在加载知识模型，这可能需要一些时间...
2025-04-28 14:25:13,645 - INFO - Use pytorch device_name: cuda
2025-04-28 14:25:13,645 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-28 14:25:15,765 - INFO - Loading faiss with AVX512 support.
2025-04-28 14:25:15,779 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-28 14:25:15,781 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-28 14:25:15,837 - INFO - ✨ 系统初始化完成
2025-04-28 14:25:20,890 - INFO - 🧹 音频缓冲区已清理
2025-04-28 14:25:20,890 - INFO - 
🎤 等待语音输入
2025-04-28 14:25:27,157 - INFO - 🧹 音频缓冲区已清理
2025-04-28 14:25:33,074 - INFO - 💬 问题: 狗狗半夜打游戏。
2025-04-28 14:25:33,074 - INFO - 🧠 正在处理问题...
2025-04-28 14:25:33,301 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-28 14:25:44,882 - INFO - 流式回答花费了 11.70 seconds
2025-04-28 14:25:44,882 - INFO - ✅ 回答完成 (用时: 11.81秒)
2025-04-28 14:25:44,882 - INFO - 
🎤 等待语音输入
2025-04-28 14:26:43,947 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:26:50,611 - INFO - mpg123播放器已启动
2025-04-28 14:26:53,912 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:01,001 - INFO - mpg123播放器已启动
2025-04-28 14:27:06,700 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,201 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,225 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,254 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,284 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,314 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,344 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,374 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,403 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,433 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,463 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,493 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,523 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,553 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,584 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,614 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,644 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,675 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,705 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,735 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,766 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,796 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:07,801 - INFO - mpg123播放器已启动
2025-04-28 14:27:07,825 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:10,117 - INFO - 🧹 音频缓冲区已清理
2025-04-28 14:27:15,627 - INFO - 💬 问题: 
2025-04-28 14:27:15,627 - INFO - 🧹 正在关闭系统...
2025-04-28 14:27:15,628 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:15,628 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:27:16,128 - INFO - mpg123播放器已关闭
2025-04-28 14:27:16,135 - INFO - ✅ ASR资源已释放
2025-04-28 14:27:16,229 - INFO - ✅ 所有资源已清理，系统已安全关闭
2025-04-28 14:27:32,965 - INFO - 🔐 开始人脸认证...
2025-04-28 14:27:32,966 - INFO - mpg123播放器已启动
2025-04-28 14:27:47,528 - INFO - ✅ 认证成功: wudawang
2025-04-28 14:27:53,205 - INFO - mpg123播放器已关闭
2025-04-28 14:27:53,206 - INFO - 🚀 正在初始化甘薯问答系统...
2025-04-28 14:27:53,307 - INFO - mpg123播放器已启动
2025-04-28 14:27:57,419 - INFO - 🎤 初始化语音识别...
2025-04-28 14:27:57,520 - INFO - 🧠 正在加载知识模型，这可能需要一些时间...
2025-04-28 14:28:05,115 - INFO - Use pytorch device_name: cuda
2025-04-28 14:28:05,115 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-04-28 14:28:05,901 - INFO - Loading faiss with AVX512 support.
2025-04-28 14:28:05,914 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-28 14:28:05,917 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-28 14:28:06,015 - INFO - ✨ 系统初始化完成
2025-04-28 14:28:11,378 - INFO - 🧹 音频缓冲区已清理
2025-04-28 14:28:11,378 - INFO - 
🎤 等待语音输入
2025-04-28 14:28:17,040 - INFO - 🧹 音频缓冲区已清理
2025-04-28 14:28:23,259 - INFO - 💬 问题: 什么地方，是个什么吊玩意？
2025-04-28 14:28:23,259 - INFO - 🧠 正在处理问题...
2025-04-28 14:28:23,678 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-28 14:28:25,700 - INFO - 流式回答花费了 2.32 seconds
2025-04-28 14:28:25,700 - INFO - ✅ 回答完成 (用时: 2.44秒)
2025-04-28 14:28:25,700 - INFO - 
🎤 等待语音输入
2025-04-28 14:28:45,530 - INFO - 🧹 音频缓冲区已清理
2025-04-28 14:28:51,045 - INFO - 💬 问题: 对呀对呀，我也是。
2025-04-28 14:28:51,045 - INFO - 🧠 正在处理问题...
2025-04-28 14:28:51,346 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-28 14:28:55,011 - INFO - 流式回答花费了 3.94 seconds
2025-04-28 14:28:55,011 - INFO - ✅ 回答完成 (用时: 3.96秒)
2025-04-28 14:28:55,011 - INFO - 
🎤 等待语音输入
2025-04-28 14:29:31,784 - INFO - 🧹 音频缓冲区已清理
2025-04-28 14:29:37,298 - INFO - 💬 问题: 狗狗半夜打游戏。
2025-04-28 14:29:37,299 - INFO - 🧠 正在处理问题...
2025-04-28 14:29:37,495 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-28 14:29:45,585 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:45,626 - INFO - ✅ 回答完成 (用时: 8.32秒)
2025-04-28 14:29:45,627 - INFO - 🧹 正在关闭系统...
2025-04-28 14:29:45,788 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:45,976 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:46,200 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:48,467 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:48,659 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:48,832 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:49,001 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:49,185 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:49,376 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:49,558 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:49,742 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:50,024 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:50,524 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:50,547 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:50,578 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:50,608 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:50,637 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:50,668 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:50,699 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:50,728 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:50,757 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:50,787 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:50,818 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:50,848 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:50,878 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:50,908 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:50,938 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:50,968 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:50,998 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,028 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,039 - INFO - mpg123播放器已启动
2025-04-28 14:29:51,058 - ERROR - 播放语音时出错: [Errno 32] 断开的管道
2025-04-28 14:29:51,064 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,088 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,118 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,151 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,180 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,209 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,240 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,270 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,301 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,331 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,361 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,392 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,422 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,452 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,482 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,512 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,542 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,571 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,601 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,632 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,662 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,692 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,723 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,753 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,784 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,813 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,843 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,873 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,904 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,933 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,963 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:51,993 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,023 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,053 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,083 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,114 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,144 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,174 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,205 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,235 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,264 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,294 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,325 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,354 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,384 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,415 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,446 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,476 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,506 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,536 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,567 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,596 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,627 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:52,657 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-04-28 14:29:54,636 - INFO - mpg123播放器已启动
2025-05-03 11:04:29,995 - INFO - 🔐 开始人脸认证...
2025-05-03 11:04:29,997 - INFO - mpg123播放器已启动
2025-05-03 11:04:39,335 - INFO - ✅ 认证成功: wudawang
2025-05-03 11:04:44,273 - INFO - mpg123播放器已关闭
2025-05-03 11:04:44,274 - INFO - 🚀 正在初始化甘薯问答系统...
2025-05-03 11:04:44,378 - INFO - mpg123播放器已启动
2025-05-03 11:04:48,463 - INFO - 🎤 初始化语音识别...
2025-05-03 11:04:48,666 - INFO - 🧠 正在加载知识模型，这可能需要一些时间...
2025-05-03 11:04:56,497 - INFO - PyTorch version 2.7.0 available.
2025-05-03 11:04:56,672 - INFO - Use pytorch device_name: cuda
2025-05-03 11:04:56,672 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-05-03 11:04:57,749 - INFO - Loading faiss with AVX512 support.
2025-05-03 11:04:57,767 - INFO - Successfully loaded faiss with AVX512 support.
2025-05-03 11:04:57,770 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-05-03 11:04:57,878 - INFO - ✨ 系统初始化完成
2025-05-03 11:05:03,093 - INFO - 🧹 音频缓冲区已清理
2025-05-03 11:05:03,094 - INFO - 
🎤 等待语音输入
2025-05-03 11:05:08,383 - INFO - 🧹 音频缓冲区已清理
2025-05-03 11:05:14,698 - INFO - 💬 问题: 背一首李白的将进酒。
2025-05-03 11:05:14,698 - INFO - 🧠 正在处理问题...
2025-05-03 11:05:18,447 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-05-03 11:05:27,952 - INFO - 流式回答花费了 13.10 seconds
2025-05-03 11:05:27,953 - INFO - ✅ 回答完成 (用时: 13.25秒)
2025-05-03 11:05:27,953 - INFO - 
🎤 等待语音输入
2025-05-03 11:06:18,576 - INFO - 🧹 音频缓冲区已清理
2025-05-03 11:06:24,187 - INFO - 💬 问题: 李白的。
2025-05-03 11:06:24,188 - INFO - 🧠 正在处理问题...
2025-05-03 11:06:24,453 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-05-03 11:06:27,285 - INFO - 流式回答花费了 3.06 seconds
2025-05-03 11:06:27,286 - INFO - ✅ 回答完成 (用时: 3.10秒)
2025-05-03 11:06:27,294 - INFO - 
🎤 等待语音输入
2025-05-03 11:06:49,507 - INFO - 🧹 音频缓冲区已清理
2025-05-03 11:06:55,122 - INFO - 💬 问题: 李白的将进酒。
2025-05-03 11:06:55,122 - INFO - 🧠 正在处理问题...
2025-05-03 11:06:55,354 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-05-03 11:07:11,377 - INFO - 流式回答花费了 16.24 seconds
2025-05-03 11:07:11,377 - INFO - ✅ 回答完成 (用时: 16.25秒)
2025-05-03 11:07:11,377 - INFO - 
🎤 等待语音输入
2025-05-03 11:07:39,865 - ERROR - 播放语音时出错: [Errno 32] 断开的管道
2025-05-03 11:07:39,870 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:07:42,448 - INFO - mpg123播放器已启动
2025-05-03 11:07:51,604 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:07:51,838 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:07:52,026 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:07:52,139 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:07:52,284 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:07:52,479 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:07:53,725 - INFO - mpg123播放器已启动
2025-05-03 11:08:01,886 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:02,073 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:02,264 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:02,489 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:03,243 - INFO - mpg123播放器已启动
2025-05-03 11:08:05,018 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:05,517 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:05,543 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:05,572 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:05,601 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:05,631 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:05,662 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:05,691 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:05,722 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:05,752 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:05,782 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:05,813 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:05,843 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:05,872 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:05,903 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:05,933 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:05,964 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:05,994 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,024 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,054 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,085 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,115 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,146 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,177 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,207 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,237 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,268 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,299 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,329 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,359 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,389 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,420 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,449 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,480 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,509 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,539 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,570 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,600 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,630 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,660 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,690 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,720 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,749 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:06,781 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 11:08:21,529 - INFO - PyTorch version 2.7.0 available.
2025-05-03 11:08:21,751 - INFO - Use pytorch device_name: cuda
2025-05-03 11:08:21,751 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-05-03 11:08:22,891 - INFO - Loading faiss with AVX512 support.
2025-05-03 11:08:22,903 - INFO - Successfully loaded faiss with AVX512 support.
2025-05-03 11:08:22,906 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-05-03 11:08:23,363 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-05-03 11:08:33,750 - INFO - 流式回答花费了 10.65 seconds
2025-05-03 11:15:31,198 - INFO - PyTorch version 2.7.0 available.
2025-05-03 11:15:31,329 - INFO - Use pytorch device_name: cuda
2025-05-03 11:15:31,330 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-05-03 11:15:32,282 - INFO - Loading faiss with AVX512 support.
2025-05-03 11:15:32,299 - INFO - Successfully loaded faiss with AVX512 support.
2025-05-03 11:15:32,301 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-05-03 11:15:49,237 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-05-03 11:15:49,289 - INFO - 问答耗时: 2.05秒
2025-05-03 11:16:05,691 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-05-03 11:16:05,744 - INFO - 问答耗时: 0.45秒
2025-05-03 11:16:22,067 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-05-03 11:16:22,116 - INFO - 问答耗时: 0.31秒
2025-05-03 11:16:40,079 - INFO - 🔐 开始人脸认证...
2025-05-03 11:16:40,081 - INFO - mpg123播放器已启动
2025-05-03 11:16:48,444 - INFO - ✅ 认证成功: wudawang
2025-05-03 11:16:53,693 - INFO - mpg123播放器已关闭
2025-05-03 11:16:53,694 - INFO - 🚀 正在初始化甘薯问答系统...
2025-05-03 11:16:53,796 - INFO - mpg123播放器已启动
2025-05-03 11:16:57,681 - INFO - 🎤 初始化语音识别...
2025-05-03 11:16:57,782 - INFO - 🧠 正在加载知识模型，这可能需要一些时间...
2025-05-03 19:34:10,496 - INFO - 🔐 开始人脸认证...
2025-05-03 19:34:10,506 - INFO - mpg123播放器已启动
2025-05-03 19:34:15,378 - INFO - ✅ 认证成功: wudawang
2025-05-03 19:47:06,869 - INFO - 🔐 开始人脸认证...
2025-05-03 19:47:06,871 - INFO - mpg123播放器已启动
2025-05-03 19:47:11,862 - INFO - ✅ 认证成功: wudawang
2025-05-03 19:47:18,710 - INFO - mpg123播放器已关闭
2025-05-03 19:47:18,711 - INFO - 🚀 正在初始化甘薯问答系统...
2025-05-03 19:47:18,812 - INFO - mpg123播放器已启动
2025-05-03 19:47:19,342 - INFO - 🎤 初始化语音识别...
2025-05-03 19:47:19,543 - INFO - 🧠 正在加载知识模型，这可能需要一些时间...
2025-05-03 19:47:31,255 - INFO - PyTorch version 2.7.0 available.
2025-05-03 19:47:31,436 - INFO - Use pytorch device_name: cuda
2025-05-03 19:47:31,436 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-05-03 19:47:32,578 - INFO - Loading faiss with AVX512 support.
2025-05-03 19:47:32,600 - INFO - Successfully loaded faiss with AVX512 support.
2025-05-03 19:47:32,603 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-05-03 19:47:32,696 - INFO - ✨ 系统初始化完成
2025-05-03 19:47:33,429 - INFO - 🧹 音频缓冲区已清理
2025-05-03 19:47:33,430 - INFO - 
🎤 等待语音播放完🎤
2025-05-03 19:47:42,538 - INFO - 🧹 音频缓冲区已清理
2025-05-03 19:47:48,344 - INFO - 💬 问题: 甘薯的贮藏特性。
2025-05-03 19:47:48,345 - ERROR - ❌ 处理问题时出错: object async_generator can't be used in 'await' expression
2025-05-03 19:47:48,345 - INFO - 
🎤 等待语音播放完🎤
2025-05-03 19:47:49,576 - INFO - 🧹 音频缓冲区已清理
2025-05-03 19:47:55,282 - INFO - 💬 问题: 嗯嗯嗯嗯嗯嗯嗯嗯嗯嗯嗯嗯嗯嗯嗯嗯嗯嗯嗯嗯嗯嗯嗯。
2025-05-03 19:47:55,283 - ERROR - ❌ 处理问题时出错: object async_generator can't be used in 'await' expression
2025-05-03 19:47:55,283 - INFO - 
🎤 等待语音播放完🎤
2025-05-03 19:48:02,161 - INFO - 🧹 音频缓冲区已清理
2025-05-03 19:48:07,566 - INFO - 💬 问题: 甘薯的贮藏特性。
2025-05-03 19:48:07,566 - ERROR - ❌ 处理问题时出错: object async_generator can't be used in 'await' expression
2025-05-03 19:48:07,566 - INFO - 
🎤 等待语音播放完🎤
2025-05-03 19:48:08,797 - INFO - 🧹 音频缓冲区已清理
2025-05-03 19:48:14,402 - INFO - 💬 问题: 
2025-05-03 19:48:14,402 - INFO - 
🎤 等待语音播放完🎤
2025-05-03 19:48:14,403 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 19:48:14,403 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 19:48:14,403 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 19:48:14,403 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 19:48:14,403 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 19:48:14,403 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 19:48:14,403 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 19:48:14,403 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 20:29:38,936 - INFO - 🔐 开始人脸认证...
2025-05-03 20:29:38,937 - INFO - mpg123播放器已启动
2025-05-03 20:29:43,926 - INFO - ✅ 认证成功: wudawang
2025-05-03 20:29:50,617 - INFO - mpg123播放器已关闭
2025-05-03 20:29:50,618 - INFO - 🚀 正在初始化甘薯问答系统...
2025-05-03 20:29:50,719 - INFO - mpg123播放器已启动
2025-05-03 20:29:51,251 - INFO - 🎤 初始化语音识别...
2025-05-03 20:29:51,360 - INFO - 🧠 正在加载知识模型，这可能需要一些时间...
2025-05-03 20:30:01,580 - INFO - PyTorch version 2.7.0 available.
2025-05-03 20:30:01,712 - INFO - Use pytorch device_name: cuda
2025-05-03 20:30:01,712 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-05-03 20:30:02,742 - INFO - Loading faiss with AVX512 support.
2025-05-03 20:30:02,758 - INFO - Successfully loaded faiss with AVX512 support.
2025-05-03 20:30:02,762 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-05-03 20:30:02,798 - INFO - ✨ 系统初始化完成
2025-05-03 20:30:03,531 - INFO - 🧹 音频缓冲区已清理
2025-05-03 20:30:03,531 - INFO - 
🎤 等待语音播放完🎤
2025-05-03 20:30:12,241 - INFO - 🧹 音频缓冲区已清理
2025-05-03 20:30:18,048 - INFO - 💬 问题: 甘薯的贮藏特性。
2025-05-03 20:30:18,048 - INFO - 🧠 正在处理问题...
2025-05-03 20:30:23,660 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-05-03 20:30:37,193 - INFO - 流式回答花费了 18.99 seconds
2025-05-03 20:30:37,193 - INFO - ✅ 回答完成 (用时: 19.14秒)
2025-05-03 20:30:37,194 - INFO - 
🎤 等待语音播放完🎤
2025-05-03 20:31:40,767 - INFO - 🧹 音频缓冲区已清理
2025-05-03 20:31:46,890 - INFO - 💬 问题: 他就知道了，做事就是老班是不是在球场上？
2025-05-03 20:31:46,890 - INFO - 🧠 正在处理问题...
2025-05-03 20:31:47,425 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-05-03 20:31:55,626 - INFO - 流式回答花费了 8.57 seconds
2025-05-03 20:31:55,626 - INFO - ✅ 回答完成 (用时: 8.74秒)
2025-05-03 20:31:55,626 - INFO - 
🎤 等待语音播放完🎤
2025-05-03 20:32:41,613 - INFO - 🧹 音频缓冲区已清理
2025-05-03 20:32:47,319 - INFO - 💬 问题: 甘薯的贮藏特性。
2025-05-03 20:32:47,319 - INFO - 🧠 正在处理问题...
2025-05-03 20:32:47,731 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-05-03 20:32:53,329 - ERROR - 播放语音时出错: [Errno 32] 断开的管道
2025-05-03 20:32:53,330 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 20:32:53,333 - INFO - ✅ 回答完成 (用时: 6.01秒)
2025-05-03 20:32:53,333 - INFO - 🧹 正在关闭系统...
2025-05-03 20:32:53,334 - ERROR - 关闭mpg123时出错: [Errno 32] 断开的管道
2025-05-03 20:32:53,334 - ERROR - 关闭mpg123时出错: [Errno 32] 断开的管道
2025-05-03 20:32:53,436 - INFO - ✅ ASR资源已释放
2025-05-03 20:32:53,535 - INFO - ✅ 所有资源已清理，系统已安全关闭
2025-05-03 21:46:38,223 - INFO - 🔐 开始人脸认证...
2025-05-03 21:46:38,224 - INFO - mpg123播放器已启动
2025-05-03 21:46:43,886 - INFO - ✅ 认证成功: wudawang
2025-05-03 21:46:51,378 - INFO - mpg123播放器已关闭
2025-05-03 21:46:51,379 - INFO - 🚀 正在初始化甘薯问答系统...
2025-05-03 21:46:51,480 - INFO - mpg123播放器已启动
2025-05-03 21:46:52,011 - INFO - 🎤 初始化语音识别...
2025-05-03 21:46:52,111 - INFO - 🧠 正在加载知识模型，这可能需要一些时间...
2025-05-03 21:47:03,272 - INFO - PyTorch version 2.7.0 available.
2025-05-03 21:47:03,472 - INFO - Use pytorch device_name: cuda
2025-05-03 21:47:03,472 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-05-03 21:47:04,572 - INFO - Loading faiss with AVX512 support.
2025-05-03 21:47:04,591 - INFO - Successfully loaded faiss with AVX512 support.
2025-05-03 21:47:04,593 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-05-03 21:47:04,672 - INFO - ✨ 系统初始化完成
2025-05-03 21:47:05,405 - INFO - 🧹 音频缓冲区已清理
2025-05-03 21:47:05,405 - INFO - 
🎤 等待语音播放完🎤
2025-05-03 21:47:15,256 - INFO - 🧹 音频缓冲区已清理
2025-05-03 21:47:20,962 - INFO - 💬 问题: 甘薯的贮藏特性。
2025-05-03 21:47:20,962 - ERROR - ❌ 处理问题时出错: object async_generator can't be used in 'await' expression
2025-05-03 21:47:20,962 - INFO - 
🎤 等待语音播放完🎤
2025-05-03 21:47:22,194 - INFO - 🧹 音频缓冲区已清理
2025-05-03 21:47:28,300 - INFO - 💬 问题: 但是我们很好的话，我们都说所以我才不到十分钟，还是他的。
2025-05-03 21:47:28,301 - ERROR - ❌ 处理问题时出错: object async_generator can't be used in 'await' expression
2025-05-03 21:47:28,301 - INFO - 
🎤 等待语音播放完🎤
2025-05-03 21:47:32,868 - INFO - 🛑 收到系统退出信号，正在安全退出...
2025-05-03 21:47:35,300 - INFO - 🧹 音频缓冲区已清理
2025-05-03 21:47:41,407 - INFO - 💬 问题: 家属照顾他们，看着这个感觉到他真的很好很好的很好。
2025-05-03 21:47:41,407 - INFO - 🧹 正在关闭系统...
2025-05-03 21:47:41,908 - INFO - mpg123播放器已关闭
2025-05-03 21:47:41,915 - INFO - ✅ ASR资源已释放
2025-05-03 21:47:42,008 - INFO - ✅ 所有资源已清理，系统已安全关闭
2025-05-03 21:48:35,810 - INFO - 🔐 开始人脸认证...
2025-05-03 21:48:35,811 - INFO - mpg123播放器已启动
2025-05-03 21:48:39,843 - INFO - ✅ 认证成功: wudawang
2025-05-03 21:48:46,500 - INFO - mpg123播放器已关闭
2025-05-03 21:48:46,500 - INFO - 🚀 正在初始化甘薯问答系统...
2025-05-03 21:48:46,601 - INFO - mpg123播放器已启动
2025-05-03 21:48:47,133 - INFO - 🎤 初始化语音识别...
2025-05-03 21:48:47,233 - INFO - 🧠 正在加载知识模型，这可能需要一些时间...
2025-05-03 21:48:57,470 - INFO - PyTorch version 2.7.0 available.
2025-05-03 21:48:57,607 - INFO - Use pytorch device_name: cuda
2025-05-03 21:48:57,607 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-05-03 21:48:58,609 - INFO - Loading faiss with AVX512 support.
2025-05-03 21:48:58,627 - INFO - Successfully loaded faiss with AVX512 support.
2025-05-03 21:48:58,630 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-05-03 21:48:58,672 - INFO - ✨ 系统初始化完成
2025-05-03 21:48:59,405 - INFO - 🧹 音频缓冲区已清理
2025-05-03 21:48:59,405 - INFO - 
🎤 等待语音播放完🎤
2025-05-03 21:49:07,917 - INFO - 🧹 音频缓冲区已清理
2025-05-03 21:49:13,955 - ERROR - ❌ 运行时发生错误: object dict can't be used in 'await' expression
2025-05-03 21:49:13,955 - INFO - 🧹 正在关闭系统...
2025-05-03 21:49:18,127 - INFO - mpg123播放器已关闭
2025-05-03 21:49:18,134 - INFO - ✅ ASR资源已释放
2025-05-03 21:49:18,160 - INFO - ✅ 所有资源已清理，系统已安全关闭
2025-05-04 10:35:43,211 - INFO - 🔐 开始人脸认证...
2025-05-04 10:35:43,221 - INFO - mpg123播放器已启动
2025-05-04 10:35:53,915 - INFO - ✅ 认证成功: wudawang
2025-05-04 10:36:00,041 - INFO - mpg123播放器已关闭
2025-05-04 10:36:00,041 - INFO - 🚀 正在初始化甘薯问答系统...
2025-05-04 10:36:00,143 - INFO - mpg123播放器已启动
2025-05-04 10:36:04,459 - INFO - 🎤 初始化语音识别...
2025-05-04 10:36:04,560 - INFO - 🧠 正在加载知识模型，这可能需要一些时间...
2025-05-04 10:36:15,187 - INFO - PyTorch version 2.7.0 available.
2025-05-04 10:36:15,470 - INFO - Use pytorch device_name: cuda
2025-05-04 10:36:15,470 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-05-04 10:37:00,062 - INFO - 🔐 开始人脸认证...
2025-05-04 10:37:00,063 - INFO - mpg123播放器已启动
2025-05-04 10:37:08,727 - INFO - ✅ 认证成功: wudawang
2025-05-04 10:37:14,789 - INFO - mpg123播放器已关闭
2025-05-04 10:37:14,789 - INFO - 🚀 正在初始化甘薯问答系统...
2025-05-04 10:37:14,891 - INFO - mpg123播放器已启动
2025-05-04 10:37:19,201 - INFO - 🎤 初始化语音识别...
2025-05-04 10:37:19,301 - INFO - 🧠 正在加载知识模型，这可能需要一些时间...
2025-05-04 10:37:29,020 - INFO - PyTorch version 2.7.0 available.
2025-05-04 10:37:29,217 - INFO - Use pytorch device_name: cuda
2025-05-04 10:37:29,217 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-05-04 10:38:28,404 - INFO - PyTorch version 2.7.0 available.
2025-05-04 10:38:28,642 - INFO - Use pytorch device_name: cuda
2025-05-04 10:38:28,642 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-05-04 10:38:37,062 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/qa_model/qa_model_easy.py:162> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 169, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 163, in main
    qa = KnowledgeQA()
         ^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 38, in __init__
    self.embedding_model = self._init_embeddings()
                           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 46, in _init_embeddings
    return HuggingFaceEmbeddings(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/langchain_huggingface/embeddings/huggingface.py", line 59, in __init__
    self._client = sentence_transformers.SentenceTransformer(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 309, in __init__
    modules, self.module_kwargs = self._load_sbert_model(
                                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 1702, in _load_sbert_model
    self.model_card_data.set_base_model(model_name_or_path, revision=revision)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/model_card.py", line 757, in set_base_model
    model_info = get_model_info(model_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/hf_api.py", line 2591, in model_info
    r = get_session().get(path, headers=headers, timeout=timeout, params=params)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_http.py", line 96, in send
    return super().send(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
KeyboardInterrupt
2025-05-04 10:52:09,168 - INFO - PyTorch version 2.7.0 available.
2025-05-04 10:52:09,416 - INFO - Use pytorch device_name: cuda
2025-05-04 10:52:09,417 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-05-04 10:52:20,336 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/qa_model/qa_model_easy.py:173> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 180, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 174, in main
    qa = KnowledgeQA()
         ^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 39, in __init__
    self.embedding_model = self._init_embeddings()
                           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 57, in _init_embeddings
    return HuggingFaceEmbeddings(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/langchain_huggingface/embeddings/huggingface.py", line 59, in __init__
    self._client = sentence_transformers.SentenceTransformer(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 309, in __init__
    modules, self.module_kwargs = self._load_sbert_model(
                                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 1702, in _load_sbert_model
    self.model_card_data.set_base_model(model_name_or_path, revision=revision)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/model_card.py", line 757, in set_base_model
    model_info = get_model_info(model_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/hf_api.py", line 2591, in model_info
    r = get_session().get(path, headers=headers, timeout=timeout, params=params)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_http.py", line 96, in send
    return super().send(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
KeyboardInterrupt
2025-05-04 10:52:26,217 - INFO - PyTorch version 2.7.0 available.
2025-05-04 10:52:26,472 - INFO - Use pytorch device_name: cuda
2025-05-04 10:52:26,472 - INFO - Load pretrained SentenceTransformer: bge-base-zh-v1.5
2025-05-04 10:52:34,918 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/qa_model/qa_model_easy.py:173> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 180, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 174, in main
    qa = KnowledgeQA()
         ^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 39, in __init__
    self.embedding_model = self._init_embeddings()
                           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 57, in _init_embeddings
    return HuggingFaceEmbeddings(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/langchain_huggingface/embeddings/huggingface.py", line 59, in __init__
    self._client = sentence_transformers.SentenceTransformer(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 309, in __init__
    modules, self.module_kwargs = self._load_sbert_model(
                                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 1702, in _load_sbert_model
    self.model_card_data.set_base_model(model_name_or_path, revision=revision)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/model_card.py", line 757, in set_base_model
    model_info = get_model_info(model_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/hf_api.py", line 2591, in model_info
    r = get_session().get(path, headers=headers, timeout=timeout, params=params)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/huggingface_hub/utils/_http.py", line 96, in send
    return super().send(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 704, in connect
    self.sock = sock = self._new_conn()
                       ^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
KeyboardInterrupt
2025-05-04 10:52:39,136 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/qa_model/qa_model_easy.py:173> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 180, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 174, in main
    qa = KnowledgeQA()
         ^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 39, in __init__
    self.embedding_model = self._init_embeddings()
                           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model/qa_model_easy.py", line 57, in _init_embeddings
    return HuggingFaceEmbeddings(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/langchain_huggingface/embeddings/huggingface.py", line 52, in __init__
    import sentence_transformers  # type: ignore[import]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/__init__.py", line 9, in <module>
    from sentence_transformers.backend import (
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/backend.py", line 11, in <module>
    from sentence_transformers.util import disable_datasets_caching, is_datasets_available
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/util.py", line 17, in <module>
    import torch
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/torch/__init__.py", line 409, in <module>
    from torch._C import *  # noqa: F403
    ^^^^^^^^^^^^^^^^^^^^^^
KeyboardInterrupt

2025-04-08 17:59:38,665 - INFO - Use pytorch device_name: cuda
2025-04-08 17:59:38,665 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 17:59:39,166 - INFO - Loading faiss with AVX512 support.
2025-04-08 17:59:39,181 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 17:59:39,184 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 17:59:41,494 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 18:03:16,566 - INFO - Use pytorch device_name: cuda
2025-04-08 18:03:16,566 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 18:03:18,334 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 18:06:00,789 - INFO - Use pytorch device_name: cuda
2025-04-08 18:06:00,789 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 18:06:01,105 - INFO - Loading faiss with AVX512 support.
2025-04-08 18:06:01,117 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 18:06:01,120 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 18:06:02,896 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 18:07:41,490 - INFO - Use pytorch device_name: cuda
2025-04-08 18:07:41,491 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 18:07:41,804 - INFO - Loading faiss with AVX512 support.
2025-04-08 18:07:41,816 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 18:07:41,819 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 18:07:43,695 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 18:12:16,102 - INFO - Use pytorch device_name: cuda
2025-04-08 18:12:16,102 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 18:12:16,411 - INFO - Loading faiss with AVX512 support.
2025-04-08 18:12:16,423 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 18:12:16,425 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 18:12:18,102 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 18:16:33,117 - INFO - Use pytorch device_name: cuda
2025-04-08 18:16:33,118 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 18:16:33,436 - INFO - Loading faiss with AVX512 support.
2025-04-08 18:16:33,449 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 18:16:33,451 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 18:16:33,635 - INFO - 知识库更新成功！
2025-04-08 18:16:35,269 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 18:23:10,381 - INFO - Use pytorch device_name: cuda
2025-04-08 18:23:10,381 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 18:23:10,705 - INFO - Loading faiss with AVX512 support.
2025-04-08 18:23:10,719 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 18:23:10,721 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 18:23:10,909 - INFO - 知识库更新成功！
2025-04-08 18:23:13,118 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 18:29:16,493 - INFO - Use pytorch device_name: cuda
2025-04-08 18:29:16,493 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 18:29:17,031 - INFO - Loading faiss with AVX512 support.
2025-04-08 18:29:17,044 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 18:29:17,047 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 18:29:17,109 - INFO - 知识库更新成功！
2025-04-08 18:29:19,413 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 18:48:35,999 - INFO - Use pytorch device_name: cuda
2025-04-08 18:48:35,999 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 18:48:36,346 - INFO - Loading faiss with AVX512 support.
2025-04-08 18:48:36,359 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 18:48:36,361 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 18:48:36,553 - INFO - 知识库更新成功！
2025-04-08 18:48:37,569 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-08 18:49:29,744 - INFO - Use pytorch device_name: cuda
2025-04-08 18:49:29,745 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 18:49:30,078 - INFO - Loading faiss with AVX512 support.
2025-04-08 18:49:30,091 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 18:49:30,093 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 18:49:30,291 - INFO - 知识库更新成功！
2025-04-08 18:49:31,459 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 18:49:47,431 - INFO - Use pytorch device_name: cuda
2025-04-08 18:49:47,431 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 18:49:47,723 - INFO - 知识库更新成功！
2025-04-08 18:49:48,865 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 18:49:58,358 - INFO - Use pytorch device_name: cuda
2025-04-08 18:49:58,358 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 18:49:58,617 - INFO - 知识库更新成功！
2025-04-08 18:49:59,673 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 18:51:37,759 - INFO - Use pytorch device_name: cuda
2025-04-08 18:51:37,759 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 18:51:38,040 - INFO - 知识库更新成功！
2025-04-08 18:51:39,168 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 18:51:46,817 - INFO - Use pytorch device_name: cuda
2025-04-08 18:51:46,817 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 18:51:47,082 - INFO - 知识库更新成功！
2025-04-08 18:51:48,170 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 18:53:52,977 - INFO - Use pytorch device_name: cuda
2025-04-08 18:53:52,977 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 18:53:53,315 - INFO - Loading faiss with AVX512 support.
2025-04-08 18:53:53,338 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 18:53:53,340 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 18:53:53,504 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-08 18:54:39,343 - INFO - Use pytorch device_name: cuda
2025-04-08 18:54:39,344 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 18:54:39,664 - INFO - Loading faiss with AVX512 support.
2025-04-08 18:54:39,678 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 18:54:39,680 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 18:54:39,869 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 18:58:29,941 - INFO - Use pytorch device_name: cuda
2025-04-08 18:58:29,941 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 18:58:30,263 - INFO - Loading faiss with AVX512 support.
2025-04-08 18:58:30,276 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 18:58:30,278 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 18:58:30,502 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 18:59:57,094 - INFO - Use pytorch device_name: cuda
2025-04-08 18:59:57,094 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 18:59:57,423 - INFO - Loading faiss with AVX512 support.
2025-04-08 18:59:57,436 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 18:59:57,439 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 18:59:57,668 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 19:00:36,374 - INFO - Use pytorch device_name: cuda
2025-04-08 19:00:36,374 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 19:00:36,688 - INFO - Loading faiss with AVX512 support.
2025-04-08 19:00:36,701 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 19:00:36,704 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 19:00:36,934 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 19:01:46,107 - INFO - Use pytorch device_name: cuda
2025-04-08 19:01:46,107 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 19:01:46,439 - INFO - Loading faiss with AVX512 support.
2025-04-08 19:01:46,451 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 19:01:46,454 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 19:01:46,675 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 19:02:22,779 - INFO - Use pytorch device_name: cuda
2025-04-08 19:02:22,780 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 19:02:23,109 - INFO - Loading faiss with AVX512 support.
2025-04-08 19:02:23,122 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 19:02:23,125 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 19:02:23,334 - INFO - 知识库更新成功！
2025-04-08 19:02:24,389 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 19:03:05,310 - INFO - Use pytorch device_name: cuda
2025-04-08 19:03:05,310 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 19:03:05,310 - WARNING - No sentence-transformers model found with name ./bge-base-zh-v1.5. Creating a new one with mean pooling.
2025-04-08 19:03:19,149 - INFO - Use pytorch device_name: cuda
2025-04-08 19:03:19,149 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 19:03:19,149 - WARNING - No sentence-transformers model found with name ./bge-base-zh-v1.5. Creating a new one with mean pooling.
2025-04-08 19:06:28,927 - INFO - Use pytorch device_name: cuda
2025-04-08 19:06:28,927 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 19:06:29,440 - INFO - Loading faiss with AVX512 support.
2025-04-08 19:06:29,452 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 19:06:29,455 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 19:06:29,520 - INFO - 知识库更新成功！
2025-04-08 19:06:30,612 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 19:06:47,592 - INFO - Use pytorch device_name: cuda
2025-04-08 19:06:47,592 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 19:06:48,066 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<VoiceAssistant.chat_once() done, defined at /home/wuye/vscode/chatbox/tts.py:49> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/tts.py", line 62, in <module>
    asyncio.run(va.chat_once())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/tts.py", line 52, in chat_once
    qa= KnowledgeQA()
        ^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model.py", line 45, in __init__
    self.embedding_model = self._init_embeddings()
                           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/qa_model.py", line 53, in _init_embeddings
    return HuggingFaceEmbeddings(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/langchain_huggingface/embeddings/huggingface.py", line 59, in __init__
    self._client = sentence_transformers.SentenceTransformer(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 309, in __init__
    modules, self.module_kwargs = self._load_sbert_model(
                                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 1674, in _load_sbert_model
    module = module_class(model_name_or_path, cache_dir=cache_folder, backend=self.backend, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/sentence_transformers/models/Transformer.py", line 85, in __init__
    self.tokenizer = AutoTokenizer.from_pretrained(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/transformers/models/auto/tokenization_auto.py", line 973, in from_pretrained
    return tokenizer_class.from_pretrained(pretrained_model_name_or_path, *inputs, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/transformers/tokenization_utils_base.py", line 2062, in from_pretrained
    return cls._from_pretrained(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/transformers/tokenization_utils_base.py", line 2283, in _from_pretrained
    tokenizer_file_handle = json.load(tokenizer_file_handle)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/json/__init__.py", line 293, in load
    return loads(fp.read(),
                 ^^^^^^^^^
  File "<frozen codecs>", line 322, in decode
KeyboardInterrupt
2025-04-08 19:06:59,802 - INFO - Use pytorch device_name: cuda
2025-04-08 19:06:59,802 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 19:07:00,137 - INFO - Loading faiss with AVX512 support.
2025-04-08 19:07:00,150 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 19:07:00,153 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 19:07:00,377 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 19:08:25,930 - INFO - Use pytorch device_name: cuda
2025-04-08 19:08:25,930 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 19:09:12,642 - INFO - Use pytorch device_name: cuda
2025-04-08 19:09:12,642 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 19:09:57,079 - INFO - Use pytorch device_name: cuda
2025-04-08 19:09:57,079 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 19:09:57,379 - INFO - Loading faiss with AVX512 support.
2025-04-08 19:09:57,393 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 19:09:57,395 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 19:10:52,470 - INFO - Use pytorch device_name: cuda
2025-04-08 19:10:52,470 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 19:10:52,745 - INFO - Loading faiss with AVX512 support.
2025-04-08 19:10:52,756 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 19:10:52,759 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 19:11:03,226 - INFO - Use pytorch device_name: cuda
2025-04-08 19:11:03,226 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 19:11:03,509 - INFO - Loading faiss with AVX512 support.
2025-04-08 19:11:03,520 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 19:11:03,523 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 19:11:15,402 - INFO - Use pytorch device_name: cuda
2025-04-08 19:11:15,402 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 19:11:15,674 - INFO - Loading faiss with AVX512 support.
2025-04-08 19:11:15,686 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 19:11:15,689 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 19:11:38,522 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 19:11:50,887 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 19:12:13,279 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main.py:7> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main.py", line 46, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 360, in __wakeup
    self.__step()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main.py", line 33, in main
    query = voice.listen()
            ^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/tts.py", line 37, in listen
    audio = self.recognizer.listen(source, timeout=timeout, phrase_time_limit=phrase_time_limit)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/speech_recognition/__init__.py", line 460, in listen
    for a in result:
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/speech_recognition/__init__.py", line 530, in _listen
    buffer = source.stream.read(source.CHUNK)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/speech_recognition/__init__.py", line 191, in read
    return self.pyaudio_stream.read(size, exception_on_overflow=False)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/pyaudio.py", line 608, in read
    return pa.read_stream(self._stream, num_frames, exception_on_overflow)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyboardInterrupt
2025-04-08 20:09:35,721 - INFO - Use pytorch device_name: cuda
2025-04-08 20:09:35,721 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 20:09:36,024 - INFO - Loading faiss with AVX512 support.
2025-04-08 20:09:36,039 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 20:09:36,041 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 20:09:51,332 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 20:10:05,062 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 20:10:27,460 - INFO - Use pytorch device_name: cuda
2025-04-08 20:10:27,460 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 20:10:27,833 - INFO - Loading faiss with AVX512 support.
2025-04-08 20:10:27,846 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 20:10:27,849 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 20:10:44,630 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 20:11:06,046 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 20:11:30,029 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:12:28,040 - INFO - Use pytorch device_name: cuda
2025-04-08 21:12:28,041 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:13:09,060 - INFO - Use pytorch device_name: cuda
2025-04-08 21:13:09,060 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:13:09,301 - INFO - Loading faiss with AVX512 support.
2025-04-08 21:13:09,322 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 21:13:09,325 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 21:13:37,551 - INFO - Use pytorch device_name: cuda
2025-04-08 21:13:37,552 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:13:37,896 - INFO - Loading faiss with AVX512 support.
2025-04-08 21:13:37,909 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 21:13:37,913 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 21:17:28,053 - INFO - Use pytorch device_name: cuda
2025-04-08 21:17:28,053 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:17:28,453 - INFO - Loading faiss with AVX512 support.
2025-04-08 21:17:28,465 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 21:17:28,468 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 21:17:28,671 - INFO - 知识库更新成功！
2025-04-08 21:17:29,705 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-08 21:18:25,287 - INFO - Use pytorch device_name: cuda
2025-04-08 21:18:25,287 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:18:25,597 - INFO - Loading faiss with AVX512 support.
2025-04-08 21:18:25,609 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 21:18:25,612 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 21:18:25,810 - INFO - 知识库更新成功！
2025-04-08 21:18:26,833 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-08 21:19:10,186 - INFO - Use pytorch device_name: cuda
2025-04-08 21:19:10,186 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:19:10,479 - INFO - 知识库更新成功！
2025-04-08 21:19:13,111 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:19:30,949 - INFO - Use pytorch device_name: cuda
2025-04-08 21:19:30,949 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:19:31,217 - INFO - 知识库更新成功！
2025-04-08 21:19:32,454 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:19:45,238 - INFO - Use pytorch device_name: cuda
2025-04-08 21:19:45,238 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:19:45,530 - INFO - 知识库更新成功！
2025-04-08 21:19:46,699 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:20:01,589 - INFO - Use pytorch device_name: cuda
2025-04-08 21:20:01,589 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:20:01,891 - INFO - 知识库更新成功！
2025-04-08 21:20:03,123 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:21:09,876 - INFO - Use pytorch device_name: cuda
2025-04-08 21:21:09,876 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:21:10,182 - INFO - 知识库更新成功！
2025-04-08 21:21:11,341 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:21:29,041 - INFO - Use pytorch device_name: cuda
2025-04-08 21:21:29,041 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:21:29,340 - INFO - 知识库更新成功！
2025-04-08 21:21:30,678 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:31:35,492 - INFO - Use pytorch device_name: cuda
2025-04-08 21:31:35,492 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:31:35,809 - INFO - Loading faiss with AVX512 support.
2025-04-08 21:31:35,822 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 21:31:35,824 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 21:35:58,826 - INFO - Use pytorch device_name: cuda
2025-04-08 21:35:58,826 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:35:59,143 - INFO - Loading faiss with AVX512 support.
2025-04-08 21:35:59,156 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 21:35:59,158 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 21:35:59,358 - INFO - 知识库更新成功！
2025-04-08 21:36:02,515 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:36:36,520 - INFO - Use pytorch device_name: cuda
2025-04-08 21:36:36,520 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:36:36,829 - INFO - 知识库更新成功！
2025-04-08 21:36:38,669 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:37:41,248 - INFO - Use pytorch device_name: cuda
2025-04-08 21:37:41,248 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:37:41,557 - INFO - Loading faiss with AVX512 support.
2025-04-08 21:37:41,569 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 21:37:41,571 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 21:37:41,763 - INFO - 知识库更新成功！
2025-04-08 21:37:43,843 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:40:33,416 - INFO - Use pytorch device_name: cuda
2025-04-08 21:40:33,416 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:40:33,740 - INFO - Loading faiss with AVX512 support.
2025-04-08 21:40:33,752 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 21:40:33,755 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 21:40:33,948 - INFO - 知识库更新成功！
2025-04-08 21:40:35,998 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:41:57,481 - INFO - Use pytorch device_name: cuda
2025-04-08 21:41:57,482 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:41:57,779 - INFO - 知识库更新成功！
2025-04-08 21:41:59,905 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:43:36,634 - INFO - Use pytorch device_name: cuda
2025-04-08 21:43:36,634 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:43:36,635 - INFO - Use pytorch device_name: cuda
2025-04-08 21:43:36,635 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:43:37,066 - INFO - Loading faiss with AVX512 support.
2025-04-08 21:43:37,079 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 21:43:37,082 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 21:43:37,403 - INFO - 知识库更新成功！
2025-04-08 21:43:38,777 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:47:23,819 - INFO - Use pytorch device_name: cuda
2025-04-08 21:47:23,819 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:47:24,148 - INFO - Loading faiss with AVX512 support.
2025-04-08 21:47:24,161 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 21:47:24,163 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 21:47:24,355 - INFO - 知识库更新成功！
2025-04-08 21:47:25,698 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:48:31,841 - INFO - Use pytorch device_name: cuda
2025-04-08 21:48:31,841 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:48:32,140 - INFO - 知识库更新成功！
2025-04-08 21:48:33,225 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:50:27,755 - INFO - Use pytorch device_name: cuda
2025-04-08 21:50:27,755 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:50:28,056 - INFO - 知识库更新成功！
2025-04-08 21:50:29,136 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:51:38,922 - INFO - Use pytorch device_name: cuda
2025-04-08 21:51:38,922 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:51:39,268 - INFO - 知识库更新成功！
2025-04-08 21:51:40,346 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:52:49,712 - INFO - Use pytorch device_name: cuda
2025-04-08 21:52:49,712 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:52:50,047 - INFO - 知识库更新成功！
2025-04-08 21:52:51,121 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:54:45,548 - INFO - Use pytorch device_name: cuda
2025-04-08 21:54:45,548 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:54:45,890 - INFO - 知识库更新成功！
2025-04-08 21:54:46,968 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:55:59,538 - INFO - Use pytorch device_name: cuda
2025-04-08 21:55:59,538 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:55:59,854 - INFO - 知识库更新成功！
2025-04-08 21:56:01,155 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:56:18,058 - INFO - Use pytorch device_name: cuda
2025-04-08 21:56:18,058 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:56:18,367 - INFO - 知识库更新成功！
2025-04-08 21:56:19,626 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:57:07,477 - INFO - Use pytorch device_name: cuda
2025-04-08 21:57:07,477 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:57:07,798 - INFO - 知识库更新成功！
2025-04-08 21:57:09,076 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:58:26,306 - INFO - Use pytorch device_name: cuda
2025-04-08 21:58:26,306 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:58:26,595 - INFO - 知识库更新成功！
2025-04-08 21:58:27,979 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:58:37,740 - INFO - Use pytorch device_name: cuda
2025-04-08 21:58:37,740 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:58:38,026 - INFO - 知识库更新成功！
2025-04-08 21:58:39,322 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 21:59:13,157 - INFO - Use pytorch device_name: cuda
2025-04-08 21:59:13,157 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 21:59:13,470 - INFO - 知识库更新成功！
2025-04-08 21:59:14,841 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 22:05:12,453 - INFO - Use pytorch device_name: cuda
2025-04-08 22:05:12,454 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 22:05:12,823 - INFO - Loading faiss with AVX512 support.
2025-04-08 22:05:12,835 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 22:05:12,838 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 22:05:13,034 - INFO - 知识库更新成功！
2025-04-08 22:05:15,925 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 22:06:38,338 - INFO - Use pytorch device_name: cuda
2025-04-08 22:06:38,338 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 22:06:38,641 - INFO - 知识库更新成功！
2025-04-08 22:06:39,835 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 22:07:53,624 - INFO - Use pytorch device_name: cuda
2025-04-08 22:07:53,624 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 22:07:53,932 - INFO - 知识库更新成功！
2025-04-08 22:07:55,256 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 22:08:21,719 - INFO - Use pytorch device_name: cuda
2025-04-08 22:08:21,719 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 22:08:22,022 - INFO - 知识库更新成功！
2025-04-08 22:08:23,342 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 22:09:11,135 - INFO - Use pytorch device_name: cuda
2025-04-08 22:09:11,135 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 22:09:11,483 - INFO - 知识库更新成功！
2025-04-08 22:09:12,750 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 22:09:45,817 - INFO - Use pytorch device_name: cuda
2025-04-08 22:09:45,817 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 22:09:46,134 - INFO - 知识库更新成功！
2025-04-08 22:09:47,223 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 22:10:33,794 - INFO - Use pytorch device_name: cuda
2025-04-08 22:10:33,794 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 22:10:34,108 - INFO - 知识库更新成功！
2025-04-08 22:10:38,986 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 22:11:32,626 - INFO - Use pytorch device_name: cuda
2025-04-08 22:11:32,627 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 22:11:33,008 - INFO - Loading faiss with AVX512 support.
2025-04-08 22:11:33,023 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 22:11:33,026 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 22:11:33,230 - INFO - 知识库更新成功！
2025-04-08 22:11:34,406 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 22:13:36,194 - INFO - Use pytorch device_name: cuda
2025-04-08 22:13:36,194 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 22:13:36,512 - INFO - 知识库更新成功！
2025-04-08 22:13:37,687 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 22:13:47,458 - INFO - Use pytorch device_name: cuda
2025-04-08 22:13:47,458 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 22:13:47,734 - INFO - 知识库更新成功！
2025-04-08 22:13:48,920 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 22:14:18,098 - INFO - Use pytorch device_name: cuda
2025-04-08 22:14:18,098 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 22:14:18,418 - INFO - Loading faiss with AVX512 support.
2025-04-08 22:14:18,431 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 22:14:18,433 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 22:14:18,622 - INFO - 知识库更新成功！
2025-04-08 22:14:19,674 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 22:29:50,219 - INFO - Use pytorch device_name: cuda
2025-04-08 22:29:50,219 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 22:29:50,537 - INFO - Loading faiss with AVX512 support.
2025-04-08 22:29:50,549 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 22:29:50,551 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 22:29:50,741 - INFO - 知识库更新成功！
2025-04-08 22:29:53,191 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 22:34:18,961 - INFO - Use pytorch device_name: cuda
2025-04-08 22:34:18,961 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 22:34:19,265 - INFO - 知识库更新成功！
2025-04-08 22:34:20,415 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 22:36:23,427 - INFO - Use pytorch device_name: cuda
2025-04-08 22:36:23,427 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 22:42:51,739 - INFO - Use pytorch device_name: cuda
2025-04-08 22:42:51,739 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 22:42:52,450 - INFO - Loading faiss with AVX512 support.
2025-04-08 22:42:52,462 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 22:42:52,465 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 22:42:52,531 - INFO - 知识库更新成功！
2025-04-08 22:42:56,237 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 22:43:44,868 - INFO - Use pytorch device_name: cuda
2025-04-08 22:43:44,868 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 22:43:45,141 - INFO - 知识库更新成功！
2025-04-08 22:43:46,155 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-08 22:44:55,587 - INFO - Use pytorch device_name: cuda
2025-04-08 22:44:55,587 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 22:44:55,875 - INFO - 知识库更新成功！
2025-04-08 22:44:56,888 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-08 22:45:17,456 - INFO - Use pytorch device_name: cuda
2025-04-08 22:45:17,457 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 22:45:17,742 - INFO - 知识库更新成功！
2025-04-08 22:45:22,513 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 23:02:57,320 - INFO - Use pytorch device_name: cuda
2025-04-08 23:02:57,320 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 23:02:57,702 - INFO - Loading faiss with AVX512 support.
2025-04-08 23:02:57,715 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-08 23:02:57,718 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-08 23:02:57,921 - INFO - 知识库更新成功！
2025-04-08 23:03:01,121 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 23:03:53,502 - INFO - Use pytorch device_name: cuda
2025-04-08 23:03:53,502 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 23:03:53,833 - INFO - 知识库更新成功！
2025-04-08 23:03:55,223 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 23:04:20,440 - INFO - Use pytorch device_name: cuda
2025-04-08 23:04:20,440 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 23:04:20,774 - INFO - 知识库更新成功！
2025-04-08 23:04:22,237 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 23:06:25,513 - INFO - Use pytorch device_name: cuda
2025-04-08 23:06:25,513 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 23:06:25,851 - INFO - 知识库更新成功！
2025-04-08 23:06:27,176 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 23:07:57,272 - INFO - Use pytorch device_name: cuda
2025-04-08 23:07:57,272 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 23:07:57,829 - INFO - 知识库更新成功！
2025-04-08 23:07:59,743 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 23:08:38,527 - INFO - Use pytorch device_name: cuda
2025-04-08 23:08:38,527 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 23:08:39,078 - INFO - 知识库更新成功！
2025-04-08 23:08:40,453 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 23:09:00,387 - INFO - Use pytorch device_name: cuda
2025-04-08 23:09:00,387 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 23:09:00,953 - INFO - 知识库更新成功！
2025-04-08 23:09:02,092 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 23:09:20,878 - INFO - Use pytorch device_name: cuda
2025-04-08 23:09:20,879 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 23:09:21,444 - INFO - 知识库更新成功！
2025-04-08 23:09:22,587 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 23:09:32,282 - INFO - Use pytorch device_name: cuda
2025-04-08 23:09:32,282 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 23:09:32,844 - INFO - 知识库更新成功！
2025-04-08 23:09:33,974 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 23:09:51,205 - INFO - Use pytorch device_name: cuda
2025-04-08 23:09:51,205 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 23:09:51,784 - INFO - 知识库更新成功！
2025-04-08 23:09:52,874 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-08 23:10:37,514 - INFO - Use pytorch device_name: cuda
2025-04-08 23:10:37,514 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-08 23:10:38,080 - INFO - 知识库更新成功！
2025-04-08 23:10:39,179 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-09 22:59:41,308 - INFO - Use pytorch device_name: cpu
2025-04-09 22:59:41,308 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-09 22:59:41,535 - INFO - Loading faiss with AVX512 support.
2025-04-09 22:59:41,547 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-09 22:59:41,550 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-09 22:59:43,207 - INFO - 知识库更新成功！
2025-04-09 22:59:57,746 - INFO - Use pytorch device_name: cpu
2025-04-09 22:59:57,747 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-09 22:59:59,343 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-09 23:00:01,350 - INFO - 知识库更新成功！
2025-04-09 23:00:12,953 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-09 23:04:08,641 - INFO - Use pytorch device_name: cpu
2025-04-09 23:04:08,641 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-09 23:04:08,824 - INFO - Loading faiss with AVX512 support.
2025-04-09 23:04:08,835 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-09 23:04:08,837 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-09 23:05:37,762 - INFO - Use pytorch device_name: cpu
2025-04-09 23:05:37,762 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-09 23:05:41,772 - INFO - Use pytorch device_name: cpu
2025-04-09 23:05:41,772 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-09 23:06:20,381 - INFO - Use pytorch device_name: cpu
2025-04-09 23:06:20,381 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-09 23:06:55,233 - INFO - Use pytorch device_name: cpu
2025-04-09 23:06:55,233 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-09 23:07:44,890 - INFO - Use pytorch device_name: cpu
2025-04-09 23:07:44,890 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-09 23:07:47,093 - INFO - 知识库更新成功！
2025-04-09 23:11:52,468 - INFO - Use pytorch device_name: cpu
2025-04-09 23:11:52,468 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-09 23:14:07,291 - INFO - Use pytorch device_name: cpu
2025-04-09 23:14:07,291 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-09 23:14:09,469 - INFO - 知识库更新成功！
2025-04-09 23:14:52,925 - INFO - Use pytorch device_name: cpu
2025-04-09 23:14:52,925 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-09 23:14:56,511 - INFO - 知识库更新成功！
2025-04-09 23:14:58,873 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-09 23:15:01,095 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-09 23:15:18,796 - INFO - Use pytorch device_name: cpu
2025-04-09 23:15:18,796 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-09 23:15:21,056 - INFO - 知识库更新成功！
2025-04-10 20:46:11,294 - INFO - Use pytorch device_name: cuda
2025-04-10 20:46:11,294 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-10 20:46:11,709 - INFO - Loading faiss with AVX512 support.
2025-04-10 20:46:11,728 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-10 20:46:11,730 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-10 20:46:28,703 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-10 20:47:02,600 - INFO - Use pytorch device_name: cuda
2025-04-10 20:47:02,600 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-10 20:47:02,872 - INFO - Loading faiss with AVX512 support.
2025-04-10 20:47:02,883 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-10 20:47:02,886 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-10 20:47:17,827 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-10 20:48:08,324 - INFO - Use pytorch device_name: cuda
2025-04-10 20:48:08,325 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-10 20:48:08,641 - INFO - Loading faiss with AVX512 support.
2025-04-10 20:48:08,652 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-10 20:48:08,654 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-10 20:48:38,053 - INFO - Use pytorch device_name: cuda
2025-04-10 20:48:38,053 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-10 20:49:15,731 - INFO - Use pytorch device_name: cuda
2025-04-10 20:49:15,732 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-10 20:49:19,938 - INFO - Use pytorch device_name: cuda
2025-04-10 20:49:19,938 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-10 20:49:23,086 - INFO - Use pytorch device_name: cuda
2025-04-10 20:49:23,086 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-10 20:49:56,168 - INFO - Use pytorch device_name: cuda
2025-04-10 20:49:56,169 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-10 20:49:56,650 - INFO - 知识库更新成功！
2025-04-10 20:50:00,966 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-10 20:50:56,907 - INFO - Use pytorch device_name: cuda
2025-04-10 20:50:56,908 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-10 20:50:57,173 - INFO - Loading faiss with AVX512 support.
2025-04-10 20:50:57,185 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-10 20:50:57,187 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-10 20:51:26,415 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-10 20:52:16,920 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main.py:7> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main.py", line 46, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 360, in __wakeup
    self.__step()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main.py", line 33, in main
    query = voice.listen()
            ^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/tts.py", line 37, in listen
    audio = self.recognizer.listen(source, timeout=timeout, phrase_time_limit=phrase_time_limit)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/speech_recognition/__init__.py", line 460, in listen
    for a in result:
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/speech_recognition/__init__.py", line 530, in _listen
    buffer = source.stream.read(source.CHUNK)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/speech_recognition/__init__.py", line 191, in read
    return self.pyaudio_stream.read(size, exception_on_overflow=False)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/pyaudio.py", line 608, in read
    return pa.read_stream(self._stream, num_frames, exception_on_overflow)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyboardInterrupt
2025-04-10 20:52:55,348 - INFO - Use pytorch device_name: cuda
2025-04-10 20:52:55,348 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-10 20:52:55,610 - INFO - Loading faiss with AVX512 support.
2025-04-10 20:52:55,621 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-10 20:52:55,624 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-10 20:53:08,827 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-10 20:53:54,183 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main.py:7> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main.py", line 46, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 360, in __wakeup
    self.__step()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main.py", line 40, in main
    if cv2.waitKey(1) & 0xFF == ord('q'):
       ^^^^^^^^^^^^^^
KeyboardInterrupt
2025-04-11 23:05:09,682 - INFO - Use pytorch device_name: cuda
2025-04-11 23:05:09,682 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-11 23:05:10,230 - INFO - Loading faiss with AVX512 support.
2025-04-11 23:05:10,252 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-11 23:05:10,255 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-11 23:05:13,593 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-11 23:14:20,493 - INFO - Use pytorch device_name: cuda
2025-04-11 23:14:20,493 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-11 23:14:20,751 - INFO - Loading faiss with AVX512 support.
2025-04-11 23:14:20,768 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-11 23:14:20,771 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-11 23:14:22,603 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-11 23:15:14,022 - INFO - Use pytorch device_name: cuda
2025-04-11 23:15:14,022 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-11 23:15:14,434 - INFO - Loading faiss with AVX512 support.
2025-04-11 23:15:14,450 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-11 23:15:14,453 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-11 23:15:14,894 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-11 23:16:00,521 - INFO - Use pytorch device_name: cuda
2025-04-11 23:16:00,521 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-11 23:16:00,782 - INFO - Loading faiss with AVX512 support.
2025-04-11 23:16:00,797 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-11 23:16:00,799 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-11 23:16:01,263 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-11 23:18:13,910 - INFO - Use pytorch device_name: cuda
2025-04-11 23:18:13,910 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-11 23:18:14,171 - INFO - Loading faiss with AVX512 support.
2025-04-11 23:18:14,186 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-11 23:18:14,188 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-11 23:18:14,697 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-11 23:18:28,666 - INFO - Use pytorch device_name: cuda
2025-04-11 23:18:28,666 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-11 23:18:28,929 - INFO - Loading faiss with AVX512 support.
2025-04-11 23:18:28,944 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-11 23:18:28,946 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-11 23:18:29,276 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-11 23:18:55,938 - INFO - Use pytorch device_name: cuda
2025-04-11 23:18:55,938 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-11 23:18:56,257 - INFO - Loading faiss with AVX512 support.
2025-04-11 23:18:56,269 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-11 23:18:56,271 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-11 23:18:57,058 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-11 23:22:19,862 - INFO - Use pytorch device_name: cuda
2025-04-11 23:22:19,862 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-11 23:22:20,203 - INFO - Loading faiss with AVX512 support.
2025-04-11 23:22:20,215 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-11 23:22:20,218 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-11 23:22:20,662 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-11 23:25:42,925 - INFO - Use pytorch device_name: cuda
2025-04-11 23:25:42,925 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-11 23:25:43,250 - INFO - Loading faiss with AVX512 support.
2025-04-11 23:25:43,262 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-11 23:25:43,265 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-11 23:25:44,292 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-11 23:30:29,312 - INFO - Use pytorch device_name: cuda
2025-04-11 23:30:29,312 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-11 23:30:29,656 - INFO - Loading faiss with AVX512 support.
2025-04-11 23:30:29,667 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-11 23:30:29,670 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-11 23:30:29,973 - INFO - 知识库更新成功！
2025-04-11 23:30:31,438 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-11 23:39:59,394 - INFO - Use pytorch device_name: cuda
2025-04-11 23:39:59,394 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-11 23:39:59,706 - INFO - Loading faiss with AVX512 support.
2025-04-11 23:39:59,717 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-11 23:39:59,720 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-11 23:40:34,333 - INFO - Use pytorch device_name: cuda
2025-04-11 23:40:34,333 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-11 23:40:37,511 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-11 23:41:06,650 - INFO - Use pytorch device_name: cuda
2025-04-11 23:41:06,650 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-11 23:41:07,977 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:17:50,363 - INFO - Use pytorch device_name: cuda
2025-04-12 14:17:50,363 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-12 14:17:50,798 - INFO - Loading faiss with AVX512 support.
2025-04-12 14:17:50,818 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-12 14:17:50,821 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-12 14:28:02,559 - INFO - Use pytorch device_name: cuda
2025-04-12 14:28:02,559 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-12 14:28:02,835 - INFO - Loading faiss with AVX512 support.
2025-04-12 14:28:02,847 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-12 14:28:02,849 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-12 14:28:18,821 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:28:45,923 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:29:10,391 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:29:52,963 - INFO - Use pytorch device_name: cuda
2025-04-12 14:29:52,963 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-12 14:29:53,422 - INFO - Loading faiss with AVX512 support.
2025-04-12 14:29:53,434 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-12 14:29:53,437 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-12 14:30:07,560 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:30:28,680 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:31:29,977 - INFO - Use pytorch device_name: cuda
2025-04-12 14:31:29,977 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-12 14:31:30,257 - INFO - Loading faiss with AVX512 support.
2025-04-12 14:31:30,269 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-12 14:31:30,271 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-12 14:31:58,053 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:32:51,571 - INFO - Use pytorch device_name: cuda
2025-04-12 14:32:51,571 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-12 14:32:51,847 - INFO - Loading faiss with AVX512 support.
2025-04-12 14:32:51,858 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-12 14:32:51,861 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-12 14:33:20,013 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:34:31,765 - INFO - Use pytorch device_name: cuda
2025-04-12 14:34:31,765 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-12 14:34:32,043 - INFO - Loading faiss with AVX512 support.
2025-04-12 14:34:32,055 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-12 14:34:32,058 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-12 14:34:55,898 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:35:41,378 - INFO - Use pytorch device_name: cuda
2025-04-12 14:35:41,379 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-12 14:35:41,659 - INFO - Loading faiss with AVX512 support.
2025-04-12 14:35:41,670 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-12 14:35:41,673 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-12 14:36:01,435 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:36:01,486 - INFO - 模型问答耗时: 0.63秒
2025-04-12 14:36:08,918 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main.py:7> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main.py", line 49, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 360, in __wakeup
    self.__step()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main.py", line 35, in main
    query = voice.listen()
            ^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/tts.py", line 42, in listen
    audio = self.recognizer.listen(source, timeout=timeout, phrase_time_limit=phrase_time_limit)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/speech_recognition/__init__.py", line 460, in listen
    for a in result:
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/speech_recognition/__init__.py", line 530, in _listen
    buffer = source.stream.read(source.CHUNK)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/speech_recognition/__init__.py", line 191, in read
    return self.pyaudio_stream.read(size, exception_on_overflow=False)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/pyaudio.py", line 608, in read
    return pa.read_stream(self._stream, num_frames, exception_on_overflow)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyboardInterrupt
2025-04-12 14:38:58,369 - INFO - Use pytorch device_name: cuda
2025-04-12 14:38:58,369 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-12 14:38:58,635 - INFO - Loading faiss with AVX512 support.
2025-04-12 14:38:58,647 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-12 14:38:58,649 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-12 14:40:12,027 - INFO - Use pytorch device_name: cuda
2025-04-12 14:40:12,028 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-12 14:40:12,301 - INFO - Loading faiss with AVX512 support.
2025-04-12 14:40:12,312 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-12 14:40:12,314 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-12 14:40:24,608 - INFO - Use pytorch device_name: cuda
2025-04-12 14:40:24,608 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-12 14:40:24,884 - INFO - Loading faiss with AVX512 support.
2025-04-12 14:40:24,897 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-12 14:40:24,900 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-12 14:43:32,484 - INFO - Use pytorch device_name: cuda
2025-04-12 14:43:32,484 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-12 14:43:32,753 - INFO - Loading faiss with AVX512 support.
2025-04-12 14:43:32,765 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-12 14:43:32,767 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-12 14:43:44,823 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:43:44,876 - INFO - 模型问答耗时: 1.86秒
2025-04-12 14:43:52,067 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:43:52,119 - INFO - 模型问答耗时: 0.32秒
2025-04-12 14:43:59,808 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:43:59,860 - INFO - 模型问答耗时: 0.29秒
2025-04-12 14:44:08,407 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:44:08,458 - INFO - 模型问答耗时: 0.38秒
2025-04-12 14:44:19,696 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:44:19,747 - INFO - 模型问答耗时: 0.43秒
2025-04-12 14:44:37,844 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:44:45,643 - INFO - 模型问答耗时: 8.04秒
2025-04-12 14:45:48,299 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:45:48,350 - INFO - 模型问答耗时: 0.31秒
2025-04-12 14:45:56,080 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main.py:7> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main.py", line 60, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 360, in __wakeup
    self.__step()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main.py", line 40, in main
    query = voice.listen()
            ^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/tts.py", line 43, in listen
    message = self.recognizer.recognize_google(audio, language="zh-CN")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/speech_recognition/recognizers/google.py", line 255, in recognize_legacy
    response_text = obtain_transcription(
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/speech_recognition/recognizers/google.py", line 215, in obtain_transcription
    response = urlopen(request, timeout=timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/urllib/request.py", line 216, in urlopen
    return opener.open(url, data, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/urllib/request.py", line 519, in open
    response = self._open(req, data)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/urllib/request.py", line 536, in _open
    result = self._call_chain(self.handle_open, protocol, protocol +
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/urllib/request.py", line 496, in _call_chain
    result = func(*args)
             ^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/urllib/request.py", line 1377, in http_open
    return self.do_open(http.client.HTTPConnection, req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/urllib/request.py", line 1352, in do_open
    r = h.getresponse()
        ^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/http/client.py", line 1390, in getresponse
    response.begin()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/http/client.py", line 325, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/http/client.py", line 286, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/socket.py", line 706, in readinto
    return self._sock.recv_into(b)
           ^^^^^^^^^^^^^^^^^^^^^^^
KeyboardInterrupt
2025-04-12 14:46:37,805 - INFO - Use pytorch device_name: cuda
2025-04-12 14:46:37,805 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-12 14:46:38,077 - INFO - Loading faiss with AVX512 support.
2025-04-12 14:46:38,088 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-12 14:46:38,090 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-12 14:46:51,723 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:46:51,774 - INFO - 模型问答耗时: 0.44秒
2025-04-12 14:47:01,512 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:47:01,562 - INFO - 模型问答耗时: 0.36秒
2025-04-12 14:47:19,893 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:47:19,991 - INFO - 模型问答耗时: 0.41秒
2025-04-12 14:47:28,842 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:47:28,939 - INFO - 模型问答耗时: 0.36秒
2025-04-12 14:47:41,259 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 14:47:41,311 - INFO - 模型问答耗时: 0.35秒
2025-04-12 15:00:36,018 - INFO - Use pytorch device_name: cuda
2025-04-12 15:00:36,018 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-12 15:00:36,291 - INFO - Loading faiss with AVX512 support.
2025-04-12 15:00:36,303 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-12 15:00:36,306 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-12 15:00:51,605 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 15:00:52,884 - INFO - 模型问答耗时: 3.40秒
2025-04-12 15:06:47,949 - INFO - Use pytorch device_name: cuda
2025-04-12 15:06:47,949 - INFO - Load pretrained SentenceTransformer: ./bge-base-zh-v1.5
2025-04-12 15:06:48,225 - INFO - Loading faiss with AVX512 support.
2025-04-12 15:06:48,237 - INFO - Successfully loaded faiss with AVX512 support.
2025-04-12 15:06:48,239 - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes.
2025-04-12 15:07:06,230 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 15:07:07,321 - INFO - 模型问答耗时: 2.86秒
2025-04-12 15:07:24,080 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 15:07:26,880 - INFO - 模型问答耗时: 3.20秒
2025-04-12 15:07:51,669 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 15:07:51,767 - INFO - 模型问答耗时: 0.50秒
2025-04-12 15:08:04,037 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-04-12 15:08:04,135 - INFO - 模型问答耗时: 0.54秒
2025-04-12 15:08:13,329 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-1' coro=<main() done, defined at /home/wuye/vscode/chatbox/main.py:7> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "/home/wuye/vscode/chatbox/main.py", line 66, in <module>
    asyncio.run(main())
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 92, in run_until_complete
    self._run_once()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/nest_asyncio.py", line 133, in _run_once
    handle._run()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 360, in __wakeup
    self.__step()
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/asyncio/tasks.py", line 277, in __step
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/main.py", line 44, in main
    query = voice.listen()
            ^^^^^^^^^^^^^^
  File "/home/wuye/vscode/chatbox/tts.py", line 42, in listen
    audio = self.recognizer.listen(source, timeout=timeout, phrase_time_limit=phrase_time_limit)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/speech_recognition/__init__.py", line 460, in listen
    for a in result:
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/speech_recognition/__init__.py", line 530, in _listen
    buffer = source.stream.read(source.CHUNK)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/speech_recognition/__init__.py", line 191, in read
    return self.pyaudio_stream.read(size, exception_on_overflow=False)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/wuye/miniconda3/envs/chatbox/lib/python3.11/site-packages/pyaudio.py", line 608, in read
    return pa.read_stream(self._stream, num_frames, exception_on_overflow)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyboardInterrupt
